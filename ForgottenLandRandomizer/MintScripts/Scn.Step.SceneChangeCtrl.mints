script Scn.Step.SceneChangeCtrl
{
	flag1 flag800 class Scn.Step.SceneChangeCtrl
	{
		flag2 var Scn.Step.Modules _mods
		flag2 var Util.Fiber`1<Scn.Step.SceneChangeCtrl> _fiber
		var bool _isSceneEnd
		var ScnContext.Step.Result _result
		var bool _isCustomizedDeadChangeMap
		var ScnContext.Step.WmapMarkerInfo _argMarkerInfo
		var ScnContext.Step.MapInfo _argMapInfo
		var ScnContext.Step.StepInKind _argStepInKind
		var ScnContext.Step.MapInfo _customizedDeadChangeMapInfo
		var ScnContext.Step.StepInKind _customizedDeadChangeStepInKind
		var Storage.File.TownTheaterMovieKind _reserveTheaterMovieKind
		var bool _isChangeSceneByMainPlayer
		var bool _isDiscardMainPlayerDeform
		var bool _isEnableToExecDiscardDeformDemo
		var bool _isOverrideBgm
		var Stdlib.FixedString64 _overrideBgmKind
		var bool _isClearOverrideBgmOnDead
		var bool _isReservedSceneChange
		var bool _isChangeDifficultyToCasual
		var bool _isChangeDifficultyToStandard
		
		void ReserveSceneChange(bool,bool,bool)
		{
			fenter 0
			_void  r0
			ldofa4 r4, r0, this._isReservedSceneChange
			jmppos r4, loc_00000005
			fleave r0
			
			loc_00000005:
			ldsrc4 r4, 0x1
			stofa4 r0, r4, this._isReservedSceneChange
			stofa4 r0, r1, this._isChangeSceneByMainPlayer
			stofa4 r0, r2, this._isDiscardMainPlayerDeform
			stofa4 r0, r3, this._isEnableToExecDiscardDeformDemo
			fleave r0
		}
		
		void ChangeTownEvent(int)
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.MapInfo
			ldofad r3, r0, this._mods
			ldofad r4, r3, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r3, r4, Scn.Step.CreateInfoManager._createInfo
			ldofap r2, r3, ScnContext.Step.CreateInfo.MapInfo
			stof_u r0, r2, this._argMapInfo
			ldsrc4 r3, 0x0
			ges32  r1, r3, loc_0000000f
			ldsrc4 r3, 0xD
			stofa4 r0, r3, this._argStepInKind
			ldof_u r3, r0, this._argMapInfo
			stofa4 r3, r1, ScnContext.Step.MapInfo._startPortalNo
			jmp    loc_00000011
			
			loc_0000000f:
			ldsrc4 r3, 0xC
			stofa4 r0, r3, this._argStepInKind
			
			loc_00000011:
			ldofad r3, r0, this._fiber
			ldsrsr r4, r3
			ldsrca r5, "ChangeTownEventDetail"
			dcall  r4, 2
			_xref  Util.Fiber`1.Reset(string)
			_xref  Util.Fiber`1<Scn.Step.SceneChangeCtrl>
			_short 1
			_void  r0
			ldofad r4, r0, this._fiber
			dcall  r3, 2
			_xref  Util.Fiber`1.Execute()
			_xref  Util.Fiber`1<Scn.Step.SceneChangeCtrl>
			_short 2
			_ret   r0
			fleave r0
		}
		
		async void ChangeDeadDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r3, ScnContext.Step.DifficultyInfo
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.DifficultyInfo
			sppsh  r7, ScnContext.Step.DifficultyInfo
			sppsh  r8, ScnContext.Step.MissionInfo
			sppsh  r9, ScnContext.Step.MapInfo
			sppsh  r10, ScnContext.Step.MapInfo
			sppsh  r11, ScnContext.Step.BgmInfo
			sppsh  r12, ScnContext.Step.BgmInfo
			sppsh  r13, ScnContext.Step.ModeInfo
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r15, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r15, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r1, r5, ScnContext.Step.CreateInfo
			ldofa4 r14, r0, this._isChangeDifficultyToCasual
			jmppos r14, loc_00000024
			sppshz r6, ScnContext.Step.DifficultyInfo
			ldsrsr r14, r6
			ldsrc4 r15, 0x1
			stofa4 r14, r15, ScnContext.Step.DifficultyInfo.Level
			mcopys r7, r6, ScnContext.Step.DifficultyInfo
			mcopys r3, r7, ScnContext.Step.DifficultyInfo
			ldsrsr r14, r3
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.DifficultyInfo.Level
			ldsrsr r14, r1
			mcopys r6, r3, ScnContext.Step.DifficultyInfo
			stof_u r14, r6, ScnContext.Step.CreateInfo.DifficultyInfo
			
			loc_00000024:
			ldsr3  r14, r1, r0, r14
			ldsrc4 r17, 0x1
			callt4 r15, this.SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.MovieInfo.MovieKindPrev
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r16, r15
			ldsrc4 r17, 0x1
			callt4 r16, Scn.Step.Actor.Basic.RetryCountManager.AddRetryCount(int)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r16, r15
			callt4 r16, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._playerManager
			ldsrsr r2, r15
			ldsrsr r14, r1
			ldofad r16, r0, this._mods
			ldofad r17, r16, Scn.Step.Modules._missionManager
			ldsr2  r18, r8, r17
			callt4 r18, Scn.Step.Mission.Manager.CreateContext()
			stof_u r14, r8, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r14, r1
			ldof_u r16, r14, ScnContext.Step.CreateInfo.MapInfo
			ldofad r14, r15, Scn.Step.Player.Manager.__bf_ProgressData
			ldofa4 r15, r14, Scn.Step.Player.ProgressData._startPortalNo
			stofa4 r16, r15, ScnContext.Step.MapInfo._startPortalNo
			ldofa4 r14, r0, this._isCustomizedDeadChangeMap
			jmppos r14, loc_0000004e
			ldsrsr r14, r1
			ldofap r9, r0, this._customizedDeadChangeMapInfo
			stof_u r14, r9, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r14, r15, ScnContext.Step.PlayerInfo.StepInInfo
			ldofa4 r15, r0, this._customizedDeadChangeStepInKind
			stofa4 r14, r15, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsr3  r14, r1, r0, r14
			callt4 r15, this.SetupReturnMapConnectInfo(ref ScnContext.Step.CreateInfo)
			
			loc_0000004e:
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.MapConnectInfo
			ldof_u r16, r14, ScnContext.Step.CreateInfo.MapInfo
			ldofa4 r14, r16, ScnContext.Step.MapInfo._pathPostfixNum
			ldofad r16, r0, this._mods
			ldofad r17, r16, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r16, r17, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r16, ScnContext.Step.CreateInfo.MapInfo
			mcopys r10, r9, ScnContext.Step.MapInfo
			ldsrsr r16, r10
			ldofa4 r17, r16, ScnContext.Step.MapInfo._pathPostfixNum
			subi32 r16, r14, r17
			negs32 r14, r16
			stofa4 r15, r14, ScnContext.Step.MapConnectInfo.__bf_PreviousMapDiffStepNum
			ldofa4 r14, r0, this._isClearOverrideBgmOnDead
			jmppos r14, loc_0000006b
			ldsrsr r14, r1
			ldsrsr r15, r11
			ldsrc4 r16, 0x0
			stofa4 r15, r16, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r15, r11
			ldof_u r16, r15, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r16, Stdlib.FixedString64
			ldsrsr r15, r11
			ldsrc4 r16, 0x0
			stofa4 r15, r16, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r12, r11, ScnContext.Step.BgmInfo
			stof_u r14, r12, ScnContext.Step.CreateInfo.BgmInfo
			jmp    loc_0000006d
			
			loc_0000006b:
			ldsr3  r14, r1, r0, r14
			callt4 r15, this.SetupBgmInfo(ref ScnContext.Step.CreateInfo)
			
			loc_0000006d:
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r14, r15, Scn.Step.CreateInfoManager._createInfo
			ldofap r13, r14, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r14, r13, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r15, 0x2
			eqi32  r14, r15, loc_00000082
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrsr r15, r14
			callt4 r15, Storage.Volatile.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r15, r14
			calltp r15, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			
			loc_00000082:
			ldof_u r14, r0, this._result
			ldsrc4 r15, 0x1
			stofa4 r14, r15, ScnContext.Step.Result.Kind
			ldof_u r14, r0, this._result
			mcopys r4, r1, ScnContext.Step.CreateInfo
			stof_u r14, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r14, r0, this._result
			ldsr2  r17, r15, r14
			callt4 r16, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Arena
			ldof_u r14, r0, this._result
			ldsr2  r16, r15, r14
			ldsrc4 r18, 0x0
			callt4 r16, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r14, 0x1
			stofa4 r0, r14, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeStageClearedDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Storage.File.StageKey
			sppsh  r4, ScnContext.Step.DifficultyInfo
			sppsh  r5, Stdlib.FixedString128
			sppsh  r6, Util.TimeSpan
			sppsh  r7, Stdlib.FixedString128
			sppsh  r8, ScnContext.Step.CreateInfo
			sppsh  r9, ScnContext.Step.CreateInfo
			sppsh  r10, ScnContext.Step.DifficultyInfo
			sppsh  r11, ScnContext.Step.DifficultyInfo
			sppsh  r12, ScnContext.Step.PlayerInfo
			sppsh  r13, ScnContext.Step.MissionInfo
			sppsh  r14, ScnContext.Step.PlayerInfo/RestartInfoType
			sppsh  r15, ScnContext.Step.BgmInfo
			sppsh  r16, ScnContext.Step.BgmInfo
			sppsh  r17, Stdlib.FixedString128
			sppsh  r18, Util.TimeSpan
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._playerManager
			ldsrsr r1, r20
			ldofad r19, r20, Scn.Step.Player.Manager.__bf_PowerUpCtrl
			ldofad r20, r19, Scn.Step.Player.PowerUpCtrl._mightyTime
			ldof_u r21, r20, Util.TimeCounter._pod
			calltp r21, Util.TimeCounter/Pod.ToEnd()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r8, r20, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r19, r8
			ldof_u r20, r19, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r20, ScnContext.Step.MapConnectInfo
			mcopys r9, r8, ScnContext.Step.CreateInfo
			mcopys r2, r9, ScnContext.Step.CreateInfo
			ldofa4 r19, r0, this._isChangeDifficultyToStandard
			jmppos r19, loc_00000030
			sppshz r10, ScnContext.Step.DifficultyInfo
			ldsrsr r19, r10
			ldsrc4 r20, 0x1
			stofa4 r19, r20, ScnContext.Step.DifficultyInfo.Level
			mcopys r11, r10, ScnContext.Step.DifficultyInfo
			mcopys r4, r11, ScnContext.Step.DifficultyInfo
			ldsrsr r19, r4
			ldsrc4 r20, 0x1
			stofa4 r19, r20, ScnContext.Step.DifficultyInfo.Level
			ldsrsr r19, r2
			mcopys r10, r4, ScnContext.Step.DifficultyInfo
			stof_u r19, r10, ScnContext.Step.CreateInfo.DifficultyInfo
			
			loc_00000030:
			ldsrsr r19, r2
			ldsr2  r20, r12, r1
			callt4 r20, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r19, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r19, r2, r0, r19
			ldsrc4 r22, 0x0
			callt4 r20, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r19, r2, r0, r19
			callt4 r20, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsr3  r19, r2, r0, r19
			callt4 r20, this.ReviveSubHero(ref ScnContext.Step.CreateInfo)
			ldsrsr r19, r2
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._missionManager
			ldsr2  r22, r13, r21
			callt4 r22, Scn.Step.Mission.Manager.CreateContext()
			stof_u r19, r13, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r21, r14
			callt4 r21, ScnContext.Step.PlayerInfo/RestartInfoType.CreateDefault()
			stof_u r20, r14, ScnContext.Step.PlayerInfo.RestartInfo
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Share
			ldof_u r20, r19, ScnContext.Step.PlayerInfo/ShareType.CapsuleInfo
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleKindList
			dcall  r21, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleUidList
			dcall  r21, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Share
			ldof_u r20, r19, ScnContext.Step.PlayerInfo/ShareType.SoulInfo
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList1
			dcall  r21, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList2
			dcall  r21, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/SoulInfo.SoulTripleUidList
			dcall  r21, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/SoulInfo.SoulEnemyUidList
			dcall  r21, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Share
			ldof_u r20, r19, ScnContext.Step.PlayerInfo/ShareType.AmiiboIdList
			dcall  r20, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<ScnContext.Step.PlayerInfo/AmiiboInfo>
			_short 1
			_void  r0
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Share
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.PlayerInfo/ShareType.PointStarCountByAmiibo
			ldsrsr r19, r2
			ldsrsr r20, r15
			ldsrc4 r21, 0x0
			stofa4 r20, r21, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r20, r15
			ldof_u r21, r20, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r21, Stdlib.FixedString64
			ldsrsr r20, r15
			ldsrc4 r21, 0x0
			stofa4 r20, r21, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r16, r15, ScnContext.Step.BgmInfo
			stof_u r19, r16, ScnContext.Step.CreateInfo.BgmInfo
			ldsrsr r19, r2
			ldof_u r20, r19, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r19, 0x0
			stofa4 r20, r19, ScnContext.Step.MovieInfo.MovieKindPrev
			ldsr2  r19, r3, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r22, r17, r21
			callt4 r22, ScnContext.Step.MapInfo.get_Path()
			mcopys r5, r17, Stdlib.FixedString128
			ldsrsr r20, r5
			mcopys r7, r20, Stdlib.FixedString128
			ldsrsr r21, r7
			calltp r20, Stdlib.FixedString128.ReadPtr()
			ldsr2  r21, r19, r20
			callt4 r21, Storage.File.StageKey.this(string)
			ldsr3  r19, r3, r0, r19
			callt4 r20, this.SendPlayReportOnStageClear(ref Storage.File.StageKey)
			ldsr5  r19, r2, r3, r0, r19, r20
			callt4 r21, this.UpdateBackupFileDataOnStageClear(ref ScnContext.Step.CreateInfo,ref Storage.File.StageKey)
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._pwdeeManager
			ldsrsr r21, r20
			callt4 r21, Scn.Step.PwdeeManager.FixTentativeRecord()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r21, r20
			callt4 r21, Scn.Step.Actor.Basic.RetryCountManager.Clear()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r21, r20
			callt4 r21, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileData
			ldsrsr r20, r19
			callt4 r20, Storage.Volatile.Root.ResetStageSuite()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r20, r19
			calltp r20, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldsrc4 r19, 0x1
			stofa4 r20, r19, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldsrsr r19, r3
			ldofa4 r20, r19, Storage.File.StageKey.__bf_StoryLevel
			ldsrc4 r19, 0x8
			nei32  r20, r19, loc_000000c8
			ldsrsr r20, r3
			callt4 r19, Storage.File.StageKey.get_EstoryStage()
			ldsrc4 r20, 0x7
			eqi32  r19, r20, loc_000000dc
			
			loc_000000c8:
			ldof_u r19, r0, this._result
			ldsrc4 r20, 0x3
			stofa4 r19, r20, ScnContext.Step.Result.Kind
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._backupFileData
			ldofad r20, r19, Storage.File.Root.Wmap
			ldsrc4 r19, 0x0
			stofa4 r20, r19, Storage.File.Wmap.IsNeedToShowClearDemo
			ldsrc4 r19, 0x0
			stofa4 r20, r19, Storage.File.Wmap.IsNeedToShowCstageUnlockDemo
			ldsrc4 r19, 0x0
			stofa4 r20, r19, Storage.File.Wmap.PreComebackedCount
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._backupFileData
			ldofad r20, r19, Storage.File.Root.Wmap
			ldsrc4 r19, 0x1
			stofa4 r20, r19, Storage.File.Wmap.IsNeedToShowCstageUnlockDemo
			jmp    loc_000000df
			
			loc_000000dc:
			ldof_u r19, r0, this._result
			ldsrc4 r20, 0x2
			stofa4 r19, r20, ScnContext.Step.Result.Kind
			
			loc_000000df:
			ldof_u r19, r0, this._result
			stof_u r19, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r19, r0, this._result
			ldsr2  r22, r20, r19
			callt4 r21, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileData
			ldofad r20, r19, Storage.Volatile.Root.Arena
			ldof_u r19, r0, this._result
			ldsr2  r21, r20, r19
			ldsrc4 r23, 0x0
			callt4 r21, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileData
			ldofad r20, r19, Storage.Volatile.Root.SupportSpeak
			ldof_u r19, r0, this._result
			ldofad r21, r0, this._mods
			ldofad r22, r21, Scn.Step.Modules.__bf_TimeManager
			ldofap r18, r22, Scn.Step.TimeManager.__bf_Time
			mcopys r6, r18, Util.TimeSpan
			ldsrsr r22, r6
			calltp r21, Util.TimeSpan.get_Sec()
			cts32f r22, r21
			ldsr3  r23, r20, r19, r22
			callt4 r23, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r19, 0x1
			stofa4 r0, r19, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeExitDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Stdlib.FixedString128
			sppsh  r4, Util.TimeSpan
			sppsh  r5, Stdlib.FixedString128
			sppsh  r6, ScnContext.Step.CreateInfo
			sppsh  r7, ScnContext.Step.CreateInfo
			sppsh  r8, ScnContext.Step.PlayerInfo
			sppsh  r9, ScnContext.Step.ModeInfo
			sppsh  r10, ScnContext.Step.MissionInfo
			sppsh  r11, ScnContext.Step.PlayerInfo/RestartInfoType
			sppsh  r12, ScnContext.Step.BgmInfo
			sppsh  r13, ScnContext.Step.BgmInfo
			sppsh  r14, Stdlib.FixedString128
			sppsh  r15, Storage.File.StageKey
			sppsh  r16, ScnContext.Step.WmapInfo
			sppsh  r17, Util.TimeSpan
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._playerManager
			ldsrsr r1, r21
			ldofad r20, r21, Scn.Step.Player.Manager.__bf_PowerUpCtrl
			ldofad r22, r20, Scn.Step.Player.PowerUpCtrl._mightyTime
			ldof_u r23, r22, Util.TimeCounter._pod
			calltp r23, Util.TimeCounter/Pod.ToEnd()
			ldofad r20, r0, this._mods
			ldofad r22, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r6, r22, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r20, r6
			ldof_u r22, r20, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r22, ScnContext.Step.MapConnectInfo
			mcopys r7, r6, ScnContext.Step.CreateInfo
			mcopys r2, r7, ScnContext.Step.CreateInfo
			ldsrsr r20, r2
			ldsr2  r22, r8, r21
			callt4 r22, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r20, r8, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r20, r2, r0, r20
			ldsrc4 r23, 0x0
			callt4 r21, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r20, r2, r0, r20
			callt4 r21, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsr3  r20, r2, r0, r20
			callt4 r21, this.ReviveSubHero(ref ScnContext.Step.CreateInfo)
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r20, r21, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r20, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r20, r9, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r21, 0x3
			eqi32  r20, r21, loc_00000035
			ldsr3  r20, r2, r0, r20
			callt4 r21, this.FullRecoverHero(ref ScnContext.Step.CreateInfo)
			
			loc_00000035:
			ldsrsr r20, r2
			ldofad r21, r0, this._mods
			ldofad r22, r21, Scn.Step.Modules._missionManager
			ldsr2  r23, r10, r22
			callt4 r23, Scn.Step.Mission.Manager.CreateContext()
			stof_u r20, r10, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r20, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r22, r11
			callt4 r22, ScnContext.Step.PlayerInfo/RestartInfoType.CreateDefault()
			stof_u r21, r11, ScnContext.Step.PlayerInfo.RestartInfo
			ldsrsr r20, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r20, r21, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r21, 0x0
			stofa4 r20, r21, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r21, 0x0
			stofa4 r20, r21, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			ldsrsr r20, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r20, r21, ScnContext.Step.PlayerInfo.Share
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/ShareType.CapsuleInfo
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleKindList
			dcall  r22, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleUidList
			dcall  r22, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldsrsr r20, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r20, r21, ScnContext.Step.PlayerInfo.Share
			ldof_u r21, r20, ScnContext.Step.PlayerInfo/ShareType.SoulInfo
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList1
			dcall  r22, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList2
			dcall  r22, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/SoulInfo.SoulTripleUidList
			dcall  r22, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r22, r21, ScnContext.Step.PlayerInfo/SoulInfo.SoulEnemyUidList
			dcall  r22, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldsrsr r20, r2
			ldsrsr r21, r12
			ldsrc4 r22, 0x0
			stofa4 r21, r22, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r21, r12
			ldof_u r22, r21, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r22, Stdlib.FixedString64
			ldsrsr r21, r12
			ldsrc4 r22, 0x0
			stofa4 r21, r22, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r13, r12, ScnContext.Step.BgmInfo
			stof_u r20, r13, ScnContext.Step.CreateInfo.BgmInfo
			ldsrsr r20, r2
			ldof_u r21, r20, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r20, 0x0
			stofa4 r21, r20, ScnContext.Step.MovieInfo.MovieKindPrev
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r22, r21
			callt4 r22, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._volatileData
			ldsrsr r21, r20
			callt4 r21, Storage.Volatile.Root.ResetStageSuite()
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r21, r20
			calltp r21, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldsrc4 r20, 0x1
			stofa4 r21, r20, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r20, r21, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r20, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r20, r9, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r21, 0x1
			nei32  r20, r21, loc_000000a3
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r20, r21, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r20, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r20, r9, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r21, 0x2
			eqi32  r20, r21, loc_000000b4
			
			loc_000000a3:
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._backupFileData
			ldofad r21, r20, Storage.File.Root.Player
			ldsrsr r20, r2
			ldof_u r22, r20, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r23, r14, r22
			callt4 r23, ScnContext.Step.MapInfo.get_Path()
			mcopys r3, r14, Stdlib.FixedString128
			ldsrsr r20, r3
			mcopys r5, r20, Stdlib.FixedString128
			ldsrsr r23, r5
			calltp r22, Stdlib.FixedString128.ReadPtr()
			sppshz r15, Storage.File.StageKey
			ldsr2  r23, r15, r22
			callt4 r23, Storage.File.StageKey.this(string)
			stof_u r21, r15, Storage.File.Player.LastStageInStoryWmap
			
			loc_000000b4:
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._volatileData
			ldsrc4 r21, 0x1
			stofa4 r20, r21, Storage.Volatile.Root.IsNeedToSaveRequest
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r20, r21, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r20, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r20, r9, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r21, 0x1
			eqi32  r20, r21, loc_000000c2
			ldsr3  r20, r2, r0, r20
			callt4 r21, this.CheckStageClearDemoOnEnterWmap(ref ScnContext.Step.CreateInfo)
			
			loc_000000c2:
			ldof_u r20, r0, this._result
			ldofap r16, r2, ScnContext.Step.CreateInfo.WmapInfo
			ldofa4 r21, r16, ScnContext.Step.WmapInfo.IsStageCleared
			ldsrsr r18, r20
			jmpneg r21, loc_000000ca
			ldsrsr r18, r18
			ldsrc4 r19, 0x4
			jmp    loc_000000cc
			
			loc_000000ca:
			ldsrsr r18, r18
			ldsrc4 r19, 0x2
			
			loc_000000cc:
			stofa4 r18, r19, ScnContext.Step.Result.Kind
			ldof_u r20, r0, this._result
			stof_u r20, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r20, r0, this._result
			ldsr2  r23, r21, r20
			callt4 r22, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._volatileData
			ldofad r21, r20, Storage.Volatile.Root.Arena
			ldof_u r20, r0, this._result
			ldsr2  r22, r21, r20
			ldsrc4 r24, 0x0
			callt4 r22, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._storageManager
			ldofad r20, r21, Scn.Step.StorageManager._volatileData
			ldofad r21, r20, Storage.Volatile.Root.SupportSpeak
			ldof_u r20, r0, this._result
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_TimeManager
			ldofap r17, r23, Scn.Step.TimeManager.__bf_Time
			mcopys r4, r17, Util.TimeSpan
			ldsrsr r23, r4
			calltp r22, Util.TimeSpan.get_Sec()
			cts32f r23, r22
			ldsr3  r24, r21, r20, r23
			callt4 r24, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r20, 0x1
			stofa4 r0, r20, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeToTitleDetail()
		{
			fenter 0
			_void  r0
			ldofad r1, r0, this._mods
			ldofad r2, r1, Scn.Step.Modules._storageManager
			ldofad r1, r2, Scn.Step.StorageManager._volatileData
			ldofad r2, r1, Storage.Volatile.Root.Town
			callt4 r2, Storage.Volatile.Town.ResetIsAlreadyChecked()
			ldofad r1, r0, this._mods
			ldofad r2, r1, Scn.Step.Modules._storageManager
			ldofad r1, r2, Scn.Step.StorageManager._volatileData
			ldofad r2, r1, Storage.Volatile.Root.Town
			ldsrc4 r1, 0x1
			stofa4 r2, r1, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldof_u r1, r0, this._result
			ldsrc4 r2, 0x6
			stofa4 r1, r2, ScnContext.Step.Result.Kind
			ldsrc4 r1, 0x1
			stofa4 r0, r1, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTownToWmapDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r4, Storage.File.StageKey
			sppsh  r5, Util.TimeSpan
			sppsh  r6, ScnContext.Step.CreateInfo
			sppsh  r7, ScnContext.Step.CreateInfo
			sppsh  r8, ScnContext.Step.PlayerInfo
			sppsh  r9, ScnContext.Step.BgmInfo
			sppsh  r10, ScnContext.Step.BgmInfo
			sppsh  r11, ScnContext.Step.MissionInfo
			sppsh  r12, Storage.File.StageKey
			sppsh  r13, Util.TimeSpan
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r6, r15, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r14, r6
			ldof_u r15, r14, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r15, ScnContext.Step.MapConnectInfo
			mcopys r7, r6, ScnContext.Step.CreateInfo
			mcopys r1, r7, ScnContext.Step.CreateInfo
			ldsrsr r14, r1
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules._playerManager
			ldsr2  r17, r8, r16
			callt4 r17, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r14, r8, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r14, r1
			ldsrsr r15, r9
			ldsrc4 r16, 0x0
			stofa4 r15, r16, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r15, r9
			ldof_u r16, r15, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r16, Stdlib.FixedString64
			ldsrsr r15, r9
			ldsrc4 r16, 0x0
			stofa4 r15, r16, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r10, r9, ScnContext.Step.BgmInfo
			stof_u r14, r10, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r14, r1, r0, r14
			ldsrc4 r17, 0x0
			callt4 r15, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r14, r1, r0, r14
			callt4 r15, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r14, r1
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules._missionManager
			ldsr2  r17, r11, r16
			callt4 r17, Scn.Step.Mission.Manager.CreateContext()
			stof_u r14, r11, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r15, ScnContext.Step.WmapInfo
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._backupFileData
			ldsrsr r2, r14
			ldofad r15, r14, Storage.File.Root.StoryLevels
			ldsrsr r17, r15
			ldsrc4 r18, 0x2
			dcall  r16, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldofa4 r14, r16, Storage.File.StoryLevelData.IsUnlocked
			jmpneg r14, loc_00000087
			ldofad r14, r2, Storage.File.Root.StoryStages
			ldsrsr r16, r14
			ldsrc4 r17, 0x2
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Storage.File.StoryStageData.IsUnlocked
			ldofad r14, r2, Storage.File.Root.StoryLevels
			ldsrsr r16, r14
			ldsrc4 r17, 0x2
			
			loc_00000050:
			ldsrc4 r14, 0x7
			les32  r17, r14, loc_0000005c
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Storage.File.StoryLevelData.IsUnlocked
			ldsrc4 r14, 0x1
			addi32 r17, r17, r14
			jmp    loc_00000050
			
			loc_0000005c:
			ldofad r14, r2, Storage.File.Root.StoryStages
			ldsrsr r16, r14
			ldsrc4 r17, 0x1
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Storage.File.StoryStageData.IsCleared
			ldsrc4 r14, 0x6
			stofa4 r2, r14, Storage.File.Root.ProloguePhase
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrc4 r15, 0x1
			stofa4 r14, r15, Storage.Volatile.Root.IsNeedToSaveRequest
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r12, Storage.File.StageKey
			ldsrsr r16, r12
			ldsrc4 r17, 0x2
			callt4 r16, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			stof_u r15, r12, ScnContext.Step.WmapInfo.UnlockStage
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r14, 0x1
			stofa4 r15, r14, ScnContext.Step.WmapInfo.IsStageUnlock
			ldsrsr r16, r12
			callt4 r15, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmppos r15, loc_000000ce
			ldofad r14, r2, Storage.File.Root.StoryLevels
			ldsrsr r16, r12
			callt4 r15, Storage.File.StoryLevelKindUtil.StageKeyToStoryLevel(ref Storage.File.StageKey)
			ldsr2  r16, r14, r15
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r16, 0x1
			stofa4 r15, r16, Storage.File.StoryLevelData.IsBossUnlocked
			jmp    loc_000000ce
			
			loc_00000087:
			ldofad r15, r2, Storage.File.Root.Wmap
			callt4 r14, Storage.File.Wmap.get_IsNeedToShowAnyDemo()
			jmppos r14, loc_0000008d
			ldsr3  r14, r1, r0, r14
			callt4 r15, this.CheckStageClearDemoOnEnterWmap(ref ScnContext.Step.CreateInfo)
			jmp    loc_000000ce
			
			loc_0000008d:
			ldsrsr r15, r2
			callt4 r14, Storage.File.BackupFileDataUtil.GetClearedStoryStageKind(Storage.File.Root)
			ldsrc4 r15, 0x1
			addi32 r16, r14, r15
			ldsrsr r3, r16
			ldsr3  r14, r4, r14, r3
			ldsrc4 r17, 0x0
			callt4 r15, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			ldsrsr r14, r4
			ldofa4 r15, r14, Storage.File.StageKey.__bf_Category
			ldsrc4 r14, 0x0
			nei32b r16, r15, r14
			jmppos r16, loc_000000ce
			ldofad r14, r2, Storage.File.Root.StoryStages
			ldsrsr r16, r4
			ldsr2  r17, r14, r3
			dcall  r16, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r14, r16, Storage.File.StoryStageData.IsUnlocked
			jmpneg r14, loc_000000ce
			ldsrsr r16, r4
			callt4 r15, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmpneg r15, loc_000000ce
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			stof_u r15, r4, ScnContext.Step.WmapInfo.UnlockStage
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			ldsrsr r17, r4
			callt4 r16, Storage.File.StoryLevelKindUtil.StageKeyToStoryLevel(ref Storage.File.StageKey)
			ldsrc4 r14, 0x6
			nei32  r16, r14, loc_000000b2
			ldsrc4 r14, 0x1
			stofa4 r15, r14, ScnContext.Step.WmapInfo.IsAreaUnlock
			
			loc_000000b2:
			ldofad r14, r2, Storage.File.Root.StoryLevels
			ldsr2  r16, r14, r3
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Storage.File.StoryLevelData.IsUnlocked
			ldofad r14, r2, Storage.File.Root.StoryStages
			ldsrsr r16, r4
			callt4 r15, Storage.File.StageKey.get_StoryStage()
			ldsr2  r17, r14, r15
			dcall  r16, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r14, 0x1
			stofa4 r16, r14, Storage.File.StoryStageData.IsUnlocked
			ldofad r14, r2, Storage.File.Root.Player
			mcopys r12, r4, Storage.File.StageKey
			stof_u r14, r12, Storage.File.Player.LastStageInStoryWmap
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrc4 r15, 0x1
			stofa4 r14, r15, Storage.Volatile.Root.IsNeedToSaveRequest
			
			loc_000000ce:
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r14, 0x1
			stofa4 r15, r14, ScnContext.Step.WmapInfo.IsEnterFromTown
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r16, r15
			callt4 r16, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrsr r15, r14
			callt4 r15, Storage.Volatile.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r15, r14
			calltp r15, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Town
			callt4 r15, Storage.Volatile.Town.ResetIsAlreadyChecked()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Town
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldof_u r14, r0, this._result
			ldsrc4 r15, 0x7
			stofa4 r14, r15, ScnContext.Step.Result.Kind
			ldof_u r14, r0, this._result
			mcopys r6, r1, ScnContext.Step.CreateInfo
			stof_u r14, r6, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r14, r0, this._result
			ldsr2  r17, r15, r14
			callt4 r16, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Arena
			ldof_u r14, r0, this._result
			ldsr2  r16, r15, r14
			ldsrc4 r18, 0x0
			callt4 r16, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.SupportSpeak
			ldof_u r14, r0, this._result
			ldofad r16, r0, this._mods
			ldofad r17, r16, Scn.Step.Modules.__bf_TimeManager
			ldofap r13, r17, Scn.Step.TimeManager.__bf_Time
			mcopys r5, r13, Util.TimeSpan
			ldsrsr r17, r5
			calltp r16, Util.TimeSpan.get_Sec()
			cts32f r17, r16
			ldsr3  r18, r15, r14, r17
			callt4 r18, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r14, 0x1
			stofa4 r0, r14, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTownToEstoryWmapDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.BgmInfo
			sppsh  r8, ScnContext.Step.BgmInfo
			sppsh  r9, ScnContext.Step.MissionInfo
			sppsh  r10, Storage.File.StageKey
			sppsh  r11, Storage.File.StageKey
			sppsh  r12, Util.TimeSpan
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._playerManager
			ldsrsr r1, r14
			ldofad r13, r0, this._mods
			ldofad r15, r13, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r15, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r13, r4
			ldof_u r15, r13, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r15, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r13, r2
			ldsr2  r15, r6, r14
			callt4 r15, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r13, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r13, r2
			ldsrsr r14, r7
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r14, r7
			ldof_u r15, r14, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r15, Stdlib.FixedString64
			ldsrsr r14, r7
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r8, r7, ScnContext.Step.BgmInfo
			stof_u r13, r8, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r13, r2, r0, r13
			ldsrc4 r16, 0x0
			callt4 r14, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r13, r2, r0, r13
			callt4 r14, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r13, r2
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._missionManager
			ldsr2  r16, r9, r15
			callt4 r16, Scn.Step.Mission.Manager.CreateContext()
			stof_u r13, r9, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r13, r2
			ldof_u r14, r13, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r14, ScnContext.Step.WmapInfo
			ldsrsr r13, r2
			ldof_u r14, r13, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r13, 0x1
			stofa4 r14, r13, ScnContext.Step.WmapInfo.IsEnterFromTown
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r15, r14
			callt4 r15, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileData
			ldsrsr r14, r13
			callt4 r14, Storage.Volatile.Root.ResetStageSuite()
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r14, r13
			calltp r14, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldsrc4 r13, 0x1
			stofa4 r14, r13, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileData
			ldofad r14, r13, Storage.Volatile.Root.Town
			callt4 r14, Storage.Volatile.Town.ResetIsAlreadyChecked()
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileData
			ldofad r14, r13, Storage.Volatile.Root.Town
			ldsrc4 r13, 0x1
			stofa4 r14, r13, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._backupFileData
			ldofad r14, r13, Storage.File.Root.EstoryStages
			ldsrsr r16, r14
			ldsrc4 r17, 0x1
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldofa4 r13, r15, Storage.File.EstoryStageData.IsUnlocked
			ldsrc4 r14, 0x0
			eqi32b r15, r13, r14
			jmppos r15, loc_0000008d
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._backupFileData
			ldofad r14, r13, Storage.File.Root.EstoryStages
			ldsrsr r16, r14
			ldsrc4 r17, 0x1
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldsrc4 r13, 0x1
			stofa4 r15, r13, Storage.File.EstoryStageData.IsUnlocked
			ldsrsr r13, r2
			ldof_u r14, r13, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r13, 0x1
			stofa4 r14, r13, ScnContext.Step.WmapInfo.IsStageUnlock
			ldsrsr r13, r2
			ldof_u r14, r13, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r10, Storage.File.StageKey
			sppshz r10, Storage.File.StageKey
			ldsrc4 r16, 0x1
			dcall  r15, 3
			_xref  Stdlib.Enum.ToString(TEnum)
			_xref  Stdlib.Enum
			_short 16
			_xref  Storage.File.EstoryStageKind
			_ret   r0
			ldsrsr r17, r15
			calltp r16, ScnContext.StepUtil.PathPostfixNum(string)
			ldsrc4 r13, 0x1
			subi32 r15, r16, r13
			sppshz r11, Storage.File.StageKey
			ldsrsr r16, r11
			ldsrc4 r17, 0x3
			ldsrsr r18, r15
			callt4 r16, Storage.File.StageKey.this(Storage.File.StageCategory,int)
			mcopys r10, r11, Storage.File.StageKey
			stof_u r14, r10, ScnContext.Step.WmapInfo.UnlockStage
			
			loc_0000008d:
			ldof_u r13, r0, this._result
			ldsrc4 r14, 0x8
			stofa4 r13, r14, ScnContext.Step.Result.Kind
			ldof_u r13, r0, this._result
			stof_u r13, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r13, r0, this._result
			ldsr2  r16, r14, r13
			callt4 r15, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileData
			ldofad r14, r13, Storage.Volatile.Root.Arena
			ldof_u r13, r0, this._result
			ldsr2  r15, r14, r13
			ldsrc4 r17, 0x0
			callt4 r15, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._storageManager
			ldofad r13, r14, Scn.Step.StorageManager._volatileData
			ldofad r14, r13, Storage.Volatile.Root.SupportSpeak
			ldof_u r13, r0, this._result
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules.__bf_TimeManager
			ldofap r12, r16, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r12, Util.TimeSpan
			ldsrsr r16, r3
			calltp r15, Util.TimeSpan.get_Sec()
			cts32f r16, r15
			ldsr3  r17, r14, r13, r16
			callt4 r17, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r13, 0x1
			stofa4 r0, r13, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTownToLevel0Detail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.BgmInfo
			sppsh  r8, ScnContext.Step.BgmInfo
			sppsh  r9, ScnContext.Step.MissionInfo
			sppsh  r10, Stdlib.FixedString64
			sppsh  r11, Util.TimeSpan
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._playerManager
			ldsrsr r1, r13
			ldofad r12, r0, this._mods
			ldofad r14, r12, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r14, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r12, r4
			ldof_u r14, r12, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r14, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r12, r2
			ldsr2  r14, r6, r13
			callt4 r14, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r12, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r12, r2
			ldsrsr r13, r7
			ldsrc4 r14, 0x0
			stofa4 r13, r14, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r13, r7
			ldof_u r14, r13, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r14, Stdlib.FixedString64
			ldsrsr r13, r7
			ldsrc4 r14, 0x0
			stofa4 r13, r14, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r8, r7, ScnContext.Step.BgmInfo
			stof_u r12, r8, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r12, r2, r0, r12
			ldsrc4 r15, 0x0
			callt4 r13, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r12, r2, r0, r12
			callt4 r13, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r12, r2
			ldof_u r13, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r12, r13, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r13, 0x1
			stofa4 r12, r13, ScnContext.Step.PlayerInfo/StepInInfoType.IsStageStart
			ldsrsr r12, r2
			ldof_u r13, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r12, r13, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r13, 0x1
			stofa4 r12, r13, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r12, r2
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules._missionManager
			ldsr2  r15, r9, r14
			callt4 r15, Scn.Step.Mission.Manager.CreateContext()
			stof_u r12, r9, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r12, r2
			ldof_u r13, r12, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r14, r10
			ldsrca r15, "Level0/Stage1/Step01"
			calltp r14, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r13, r10, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r15, "Level0/Stage1/Step01"
			calltp r14, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r13, r14, ScnContext.Step.MapInfo._pathPostfixNum
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r14, r13
			callt4 r14, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldsrsr r13, r12
			callt4 r13, Storage.Volatile.Root.ResetStageSuite()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r13, r12
			calltp r13, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldsrc4 r12, 0x1
			stofa4 r13, r12, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.Town
			callt4 r13, Storage.Volatile.Town.ResetIsAlreadyChecked()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.Town
			ldsrc4 r12, 0x1
			stofa4 r13, r12, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldof_u r12, r0, this._result
			ldsrc4 r13, 0x9
			stofa4 r12, r13, ScnContext.Step.Result.Kind
			ldof_u r12, r0, this._result
			mcopys r4, r2, ScnContext.Step.CreateInfo
			stof_u r12, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r12, r0, this._result
			ldsr2  r15, r13, r12
			callt4 r14, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.Arena
			ldof_u r12, r0, this._result
			ldsr2  r14, r13, r12
			ldsrc4 r16, 0x0
			callt4 r14, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.SupportSpeak
			ldof_u r12, r0, this._result
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_TimeManager
			ldofap r11, r15, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r11, Util.TimeSpan
			ldsrsr r15, r3
			calltp r14, Util.TimeSpan.get_Sec()
			cts32f r15, r14
			ldsr3  r16, r13, r12, r15
			callt4 r16, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r12, 0x1
			stofa4 r0, r12, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeRetryCstageDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, ScnContext.Step.CreateInfo
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r2, r5, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r4, r2
			ldof_u r5, r4, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r5, ScnContext.Step.MapConnectInfo
			mcopys r3, r2, ScnContext.Step.CreateInfo
			mcopys r1, r3, ScnContext.Step.CreateInfo
			ldsr3  r4, r1, r0, r4
			ldsrc4 r7, 0x1
			callt4 r5, this.SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r6, r5
			ldsrc4 r7, 0x1
			callt4 r6, Scn.Step.Actor.Basic.RetryCountManager.AddRetryCount(int)
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r6, r5
			callt4 r6, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules._storageManager
			ldofad r4, r5, Scn.Step.StorageManager._volatileData
			ldsrsr r5, r4
			callt4 r5, Storage.Volatile.Root.ResetStageSuite()
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules._storageManager
			ldofad r4, r5, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r5, r4
			calltp r5, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules._storageManager
			ldsrc4 r4, 0x1
			stofa4 r5, r4, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r4, r0, this._result
			ldsrc4 r5, 0x5
			stofa4 r4, r5, ScnContext.Step.Result.Kind
			ldof_u r4, r0, this._result
			mcopys r2, r1, ScnContext.Step.CreateInfo
			stof_u r4, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r4, r0, this._mods
			ldofad r5, r4, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r4, r0, this._result
			ldsr2  r7, r5, r4
			callt4 r6, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldsrc4 r4, 0x1
			stofa4 r0, r4, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTownToArenaLobbyDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.BgmInfo
			sppsh  r8, ScnContext.Step.BgmInfo
			sppsh  r9, ScnContext.Step.MapInfo
			sppsh  r10, Util.TimeSpan
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._playerManager
			ldsrsr r1, r12
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r13, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r11, r4
			ldof_u r13, r11, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r13, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r11, r2
			ldsr2  r13, r6, r12
			callt4 r13, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r11, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r11, r2, r0, r11
			ldsrc4 r14, 0x0
			callt4 r12, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r11, r2, r0, r11
			callt4 r12, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsr3  r11, r2, r0, r11
			callt4 r12, this.FullRecoverHero(ref ScnContext.Step.CreateInfo)
			ldsrsr r11, r2
			ldsrsr r12, r7
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r12, r7
			ldof_u r13, r12, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r13, Stdlib.FixedString64
			ldsrsr r12, r7
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r8, r7, ScnContext.Step.BgmInfo
			stof_u r11, r8, ScnContext.Step.CreateInfo.BgmInfo
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r11, r12, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r12, 0x1
			stofa4 r11, r12, ScnContext.Step.PlayerInfo/StepInInfoType.IsStageStart
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r11, r12, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r12, 0x4
			stofa4 r11, r12, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r11, r2
			ldofad r12, r0, this._mods
			ldsr2  r13, r9, r12
			callt4 r13, Scn.Step.Arena.Utility.GetArenaLobbyMapInfo(Scn.Step.Modules)
			stof_u r11, r9, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules._storageManager
			ldofad r11, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r11, Storage.Volatile.Root.Arena
			ldofa4 r11, r13, Storage.Volatile.Arena.__bf_Kind
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x1
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsRevival
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrcf r11, 0f
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.TotalTimeSec
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r13, r12
			callt4 r13, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldsrsr r12, r11
			callt4 r12, Storage.Volatile.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r12, r11
			calltp r12, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldsrc4 r11, 0x1
			stofa4 r12, r11, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r11, r0, this._result
			ldsrc4 r12, 0xA
			stofa4 r11, r12, ScnContext.Step.Result.Kind
			ldof_u r11, r0, this._result
			mcopys r4, r2, ScnContext.Step.CreateInfo
			stof_u r11, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Town
			ldsrc4 r11, 0x1
			stofa4 r12, r11, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r11, r0, this._result
			ldsr2  r14, r12, r11
			callt4 r13, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Arena
			ldof_u r11, r0, this._result
			ldsr2  r13, r12, r11
			ldsrc4 r15, 0x1
			callt4 r13, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.SupportSpeak
			ldof_u r11, r0, this._result
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules.__bf_TimeManager
			ldofap r10, r14, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r10, Util.TimeSpan
			ldsrsr r14, r3
			calltp r13, Util.TimeSpan.get_Sec()
			cts32f r14, r13
			ldsr3  r15, r12, r11, r14
			callt4 r15, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r11, 0x1
			stofa4 r0, r11, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeRetryToArenaLobbyDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, ScnContext.Step.CreateInfo
			sppsh  r4, ScnContext.Step.MapInfo
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r2, r6, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r5, r2
			ldof_u r6, r5, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r6, ScnContext.Step.MapConnectInfo
			mcopys r3, r2, ScnContext.Step.CreateInfo
			mcopys r1, r3, ScnContext.Step.CreateInfo
			ldsr3  r5, r1, r0, r5
			ldsrc4 r8, 0x0
			callt4 r6, this.SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r5, r1, r0, r5
			ldsrc4 r8, 0x0
			callt4 r6, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r5, r1, r0, r5
			callt4 r6, this.PickUpAbilityItem(ref ScnContext.Step.CreateInfo)
			ldsr3  r5, r1, r0, r5
			callt4 r6, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r7, r6
			ldsrc4 r8, 0x1
			callt4 r7, Scn.Step.Actor.Basic.RetryCountManager.AddRetryCount(int)
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r7, r6
			callt4 r7, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r5, r6, ScnContext.Step.PlayerInfo.Share
			ldof_u r6, r5, ScnContext.Step.PlayerInfo/ShareType.AmiiboIdList
			dcall  r6, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<ScnContext.Step.PlayerInfo/AmiiboInfo>
			_short 1
			_void  r0
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r5, r6, ScnContext.Step.PlayerInfo.Share
			ldsrc4 r6, 0x0
			stofa4 r5, r6, ScnContext.Step.PlayerInfo/ShareType.PointStarCountByAmiibo
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r5, r6, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r6, 0x4
			stofa4 r5, r6, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r5, r1
			ldofad r6, r0, this._mods
			ldsr2  r7, r4, r6
			callt4 r7, Scn.Step.Arena.Utility.GetArenaLobbyMapInfo(Scn.Step.Modules)
			stof_u r5, r4, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r5, r0, this._mods
			ldofad r7, r5, Scn.Step.Modules._storageManager
			ldofad r5, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r5, Storage.Volatile.Root.Arena
			ldofa4 r5, r7, Storage.Volatile.Arena.__bf_Kind
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r5, 0x1
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r5, 0x0
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r5, 0x0
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r5, 0x0
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.IsRevival
			ldsrsr r5, r1
			ldof_u r6, r5, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrcf r5, 0f
			stofa4 r6, r5, ScnContext.Step.ArenaInfo.TotalTimeSec
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules._storageManager
			ldofad r5, r6, Scn.Step.StorageManager._volatileData
			ldsrsr r6, r5
			callt4 r6, Storage.Volatile.Root.ResetStageSuite()
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules._storageManager
			ldofad r5, r6, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r6, r5
			calltp r6, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules._storageManager
			ldsrc4 r5, 0x1
			stofa4 r6, r5, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r5, r0, this._result
			ldsrc4 r6, 0x0
			stofa4 r5, r6, ScnContext.Step.Result.Kind
			ldof_u r5, r0, this._result
			mcopys r2, r1, ScnContext.Step.CreateInfo
			stof_u r5, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r5, r0, this._result
			ldsr2  r8, r6, r5
			callt4 r7, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r5, r0, this._mods
			ldofad r6, r5, Scn.Step.Modules._storageManager
			ldofad r5, r6, Scn.Step.StorageManager._volatileData
			ldofad r6, r5, Storage.Volatile.Root.Arena
			ldof_u r5, r0, this._result
			ldsr2  r7, r6, r5
			ldsrc4 r9, 0x1
			callt4 r7, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r5, 0x1
			stofa4 r0, r5, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeToArenaBattleDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r4, Util.TimeSpan
			sppsh  r7, Yaml.Data
			sppsh  r8, Yaml.Data
			sppsh  r9, Yaml.Data
			sppsh  r10, Yaml.Data
			sppsh  r11, ScnContext.Step.CreateInfo
			sppsh  r12, ScnContext.Step.CreateInfo
			sppsh  r13, ScnContext.Step.PlayerInfo
			sppsh  r14, ScnContext.Step.MapInfo
			sppsh  r15, Util.TimeSpan
			sppsh  r16, Yaml.Data
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._playerManager
			ldsrsr r1, r18
			ldofad r17, r0, this._mods
			ldofad r19, r17, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r11, r19, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r17, r11
			ldof_u r19, r17, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r19, ScnContext.Step.MapConnectInfo
			mcopys r12, r11, ScnContext.Step.CreateInfo
			mcopys r2, r12, ScnContext.Step.CreateInfo
			ldsrsr r17, r2
			ldsr2  r19, r13, r18
			callt4 r19, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r17, r13, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r17, r2, r0, r17
			ldsrc4 r20, 0x0
			callt4 r18, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r17, r2, r0, r17
			callt4 r18, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r17, r2
			ldof_u r18, r17, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r17, r18, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r18, 0x1
			stofa4 r17, r18, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldofad r17, r18, Scn.Step.StorageManager._volatileData
			ldofad r18, r17, Storage.Volatile.Root.Arena
			ldofa4 r17, r18, Storage.Volatile.Arena.__bf_CurrentBattleIndex
			ldsrsr r3, r17
			ldsrsr r18, r2
			ldofad r19, r0, this._mods
			ldsr3  r20, r14, r19, r17
			callt4 r20, Scn.Step.Arena.Utility.GetArenaBattleMapInfo(Scn.Step.Modules,int)
			stof_u r18, r14, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r18, r0, this._mods
			ldofad r20, r18, Scn.Step.Modules._storageManager
			ldofad r18, r20, Scn.Step.StorageManager._volatileData
			ldofad r20, r18, Storage.Volatile.Root.Arena
			ldofa4 r18, r20, Storage.Volatile.Arena.__bf_Kind
			stofa4 r19, r18, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r18, r0, this._mods
			ldofad r20, r18, Scn.Step.Modules.__bf_TimeManager
			ldofap r15, r20, Scn.Step.TimeManager.__bf_Time
			mcopys r4, r15, Util.TimeSpan
			ldsrsr r21, r4
			calltp r20, Util.TimeSpan.get_Sec()
			stofa4 r19, r20, ScnContext.Step.ArenaInfo.TotalTimeSec
			ldsrsr r18, r2
			ldof_u r19, r18, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.ArenaInfo.MidBossTypeNumber
			ldofad r18, r0, this._mods
			ldofad r19, r18, Scn.Step.Modules._storageManager
			ldofad r18, r19, Scn.Step.StorageManager._volatileData
			ldofad r19, r18, Storage.Volatile.Root.Arena
			ldofad r18, r19, Storage.Volatile.Arena.__bf_BattleOrderArray
			ldsr2  r20, r18, r17
			dcall  r19, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsrsr r5, r19
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldofad r17, r18, Scn.Step.StorageManager._volatileData
			ldofad r18, r17, Storage.Volatile.Root.Arena
			ldofa4 r17, r18, Storage.Volatile.Arena.__bf_Kind
			ldsrsr r21, r17
			dcall  r20, 3
			_xref  Stdlib.Enum.ToString(TEnum)
			_xref  Stdlib.Enum
			_short 16
			_xref  Storage.File.ArenaCompetitionKind
			_ret   r0
			ldsrsr r6, r20
			ldsrsr r17, r7
			ldsrsr r21, r17
			ldsrca r22, "Scn/Step/Arena/Param"
			calltp r21, Yaml.Data.this(string)
			ldsrsr r17, r7
			ldsr3  r21, r16, r17, r20
			calltp r21, Yaml.Data.get_Item(string)
			mcopys r9, r16, Yaml.Data
			ldsrsr r17, r9
			ldsr2  r20, r16, r17
			ldsrca r22, "BattleSettings"
			calltp r20, Yaml.Data.get_Item(string)
			mcopys r8, r16, Yaml.Data
			ldsrsr r21, r8
			calltp r20, Yaml.Data.get_Length()
			lts32  r19, r20, loc_0000008d
			ldsrsr r17, r8
			ldsr3  r18, r16, r17, r5
			calltp r18, Yaml.Data.get_Item(int)
			mcopys r9, r16, Yaml.Data
			ldsrsr r17, r9
			ldsr2  r18, r16, r17
			ldsrca r20, "MidBossTypeNumber"
			calltp r18, Yaml.Data.TryGetValue(string)
			mcopys r10, r16, Yaml.Data
			ldsrsr r18, r10
			calltp r17, Yaml.Data.get_IsValid()
			jmppos r17, loc_0000008d
			ldsrsr r17, r2
			ldof_u r18, r17, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrsr r20, r10
			calltp r19, Yaml.Data.ToInt()
			stofa4 r18, r19, ScnContext.Step.ArenaInfo.MidBossTypeNumber
			
			loc_0000008d:
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldofad r17, r18, Scn.Step.StorageManager._volatileData
			ldsrsr r18, r17
			callt4 r18, Storage.Volatile.Root.ResetStageSuite()
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldofad r17, r18, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r18, r17
			calltp r18, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldsrc4 r17, 0x1
			stofa4 r18, r17, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r17, r0, this._result
			ldsrc4 r18, 0x0
			stofa4 r17, r18, ScnContext.Step.Result.Kind
			ldof_u r17, r0, this._result
			mcopys r11, r2, ScnContext.Step.CreateInfo
			stof_u r17, r11, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r17, r0, this._result
			ldsr2  r20, r18, r17
			callt4 r19, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r17, r0, this._mods
			ldofad r18, r17, Scn.Step.Modules._storageManager
			ldofad r17, r18, Scn.Step.StorageManager._volatileData
			ldofad r18, r17, Storage.Volatile.Root.Arena
			ldof_u r17, r0, this._result
			ldsr2  r19, r18, r17
			ldsrc4 r21, 0x0
			callt4 r19, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r17, 0x1
			stofa4 r0, r17, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeDifficultySelectDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r4, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			sppsh  r6, Stdlib.FixedString128
			sppsh  r8, Util.TimeSpan
			sppsh  r9, Stdlib.FixedString128
			sppsh  r10, ScnContext.Step.CreateInfo
			sppsh  r11, ScnContext.Step.CreateInfo
			sppsh  r12, ScnContext.Step.PlayerInfo
			sppsh  r13, ScnContext.Step.BgmInfo
			sppsh  r14, ScnContext.Step.BgmInfo
			sppsh  r15, ScnContext.Step.MissionInfo
			sppsh  r16, ScnContext.Step.ModeInfo
			sppsh  r17, Storage.File.StageKey
			sppsh  r18, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			sppsh  r19, Stdlib.FixedString128
			sppsh  r20, Stdlib.FixedString64
			sppsh  r21, Util.TimeSpan
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._playerManager
			ldsrsr r1, r23
			ldofad r22, r0, this._mods
			ldofad r24, r22, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r10, r24, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r22, r10
			ldof_u r24, r22, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r24, ScnContext.Step.MapConnectInfo
			mcopys r11, r10, ScnContext.Step.CreateInfo
			mcopys r2, r11, ScnContext.Step.CreateInfo
			ldsrsr r22, r2
			ldsr2  r24, r12, r23
			callt4 r24, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r22, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r22, r2
			ldsrsr r23, r13
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r23, r13
			ldof_u r24, r23, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r24, Stdlib.FixedString64
			ldsrsr r23, r13
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r14, r13, ScnContext.Step.BgmInfo
			stof_u r22, r14, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r22, r2, r0, r22
			ldsrc4 r25, 0x0
			callt4 r23, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsrsr r22, r2
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._missionManager
			ldsr2  r25, r15, r24
			callt4 r25, Scn.Step.Mission.Manager.CreateContext()
			stof_u r22, r15, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r22, r23, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r23, 0x0
			stofa4 r22, r23, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.DifficultyInfo
			ldofad r22, r0, this._mods
			ldofad r24, r22, Scn.Step.Modules._storageManager
			ldofad r22, r24, Scn.Step.StorageManager._backupFileData
			ldofa4 r24, r22, Storage.File.Root.DifficultyLevelKind
			stofa4 r23, r24, ScnContext.Step.DifficultyInfo.Level
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r24, r23
			callt4 r24, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r22, r23, Scn.Step.CreateInfoManager._createInfo
			ldofap r16, r22, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r22, r16, ScnContext.Step.ModeInfo.Kind
			ldsrsr r24, r22
			callt4 r23, ScnContext.Step.ModeUtil.IsWmap(ScnContext.Step.ModeKind)
			jmppos r23, loc_0000007b
			ldof_u r22, r0, this._result
			ldof_u r23, r22, ScnContext.Step.Result.WmapResult
			ldof_u r22, r23, ScnContext.Step.WmapResult.MarkerInfo
			ldsrc4 r23, 0x3
			stofa4 r22, r23, ScnContext.Step.WmapMarkerInfo.Variation
			ldofad r22, r0, this._mods
			ldofad r24, r22, Scn.Step.Modules._actManager
			dcall  r23, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<ActSys.Manager>
			_xref  ActSys.Manager
			_ret   r0
			ldsrsr r25, r23
			dcall  r24, 3
			_xref  ActSys.Manager.Components()
			_xref  ActSys.Manager
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl>
			_xref  Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl
			_ret   r0
			ldsrsr r3, r24
			ldsrsr r26, r24
			dcall  r25, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl>
			_short 9
			_ret   r0
			jmppos r25, loc_000000f1
			ldof_u r22, r0, this._result
			ldof_u r23, r22, ScnContext.Step.Result.WmapResult
			ldof_u r22, r23, ScnContext.Step.WmapResult.MarkerInfo
			ldsrsr r24, r3
			ldsrc4 r25, 0x0
			dcall  r23, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl>
			_xref  Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl
			_ret   r0
			ldofa4 r24, r23, Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl.__bf_CurrentLevel
			sppshz r17, Storage.File.StageKey
			ldsr2  r25, r17, r24
			ldsrc4 r27, 0x0
			callt4 r25, Storage.File.StageKey.this(Storage.File.StoryLevelKind,int)
			stof_u r22, r17, ScnContext.Step.WmapMarkerInfo.StageKey
			jmp    loc_000000f1
			
			loc_0000007b:
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r22, r23, Scn.Step.CreateInfoManager._createInfo
			ldofap r16, r22, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r22, r16, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r23, 0x5
			eqi32  r22, r23, loc_000000dc
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_MapAttributeCtrl
			ldofa4 r22, r23, Scn.Step.MapAttributeCtrl.__bf_Mode
			ldsrc4 r23, 0x3
			eqi32  r22, r23, loc_000000c0
			ldofad r22, r0, this._mods
			ldsrsr r24, r22
			ldsrc4 r25, 0x1
			callt4 r23, Scn.Step.TownEvent.Manager.IsNeedToGuideAbilityRoom(Scn.Step.Modules,bool)
			jmppos r23, loc_000000c0
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r22, r23, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r23, 0x1
			stofa4 r22, r23, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r22, 0x1
			stofa4 r23, r22, ScnContext.Step.MapInfo._startPortalNo
			ldofad r22, r0, this._mods
			ldofad r24, r22, Scn.Step.Modules._actManager
			dcall  r23, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<ActSys.Manager>
			_xref  ActSys.Manager
			_ret   r0
			ldsrsr r25, r23
			dcall  r24, 3
			_xref  ActSys.Manager.Components()
			_xref  ActSys.Manager
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			_xref  Scn.Step.Actor.Gimmick.WarpStar.MainComponent
			_ret   r0
			ldsr2  r25, r18, r24
			dcall  r25, 2
			_xref  Stdlib.Array`1.GetEnumerator()
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			_rtype Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			mcopys r4, r18, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			jmp    loc_000000b8
			
			loc_000000ab:
			ldsrsr r23, r4
			dcall  r22, 2
			_xref  Stdlib.Array`1/Enumerator.get_Current()
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			_xref  Scn.Step.Actor.Gimmick.WarpStar.MainComponent
			_ret   r0
			ldsrsr r5, r22
			ldofa4 r23, r22, Scn.Step.Actor.Gimmick.WarpStar.MainComponent.__bf_Variation
			ldsrc4 r22, 0x3
			eqi32  r23, r22, loc_000000b8
			ldofad r22, r5, Scn.Step.Actor.Gimmick.WarpStar.MainComponent._obj
			ldsrsr r23, r22
			callt4 r23, Scn.Step.Actor.Gimmick.WarpStar.Utility.ResetActorState(ActSys.Obj)
			
			loc_000000b8:
			ldsrsr r23, r4
			dcall  r22, 2
			_xref  Stdlib.Array`1/Enumerator.MoveNext()
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Gimmick.WarpStar.MainComponent>
			_short 2
			_ret   r0
			jmpneg r22, loc_000000ab
			jmp    loc_000000f1
			
			loc_000000c0:
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r24, r19, r23
			callt4 r24, ScnContext.Step.MapInfo.get_Path()
			mcopys r6, r19, Stdlib.FixedString128
			ldsrsr r22, r6
			mcopys r9, r22, Stdlib.FixedString128
			ldsrsr r23, r9
			calltp r22, Stdlib.FixedString128.ReadPtr()
			ldsrsr r7, r22
			ldsrsr r24, r22
			ldsrca r25, "Town/Town/Step09"
			calltp r23, Stdlib.StringUtil.op_Equality(string,string)
			jmpneg r23, loc_000000f1
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r24, r20
			ldsrca r25, "Town/Town/Step01"
			calltp r24, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r23, r20, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r25, "Town/Town/Step01"
			calltp r24, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r23, r24, ScnContext.Step.MapInfo._pathPostfixNum
			ldsrsr r22, r2
			ldof_u r23, r22, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r22, 0x0
			stofa4 r23, r22, ScnContext.Step.MapInfo._startPortalNo
			jmp    loc_000000f1
			
			loc_000000dc:
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r22, r23, Scn.Step.CreateInfoManager._createInfo
			ldofap r16, r22, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r22, r16, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r23, 0x1
			eqi32  r22, r23, loc_000000f1
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._storageManager
			ldofad r22, r23, Scn.Step.StorageManager._volatileData
			ldsrsr r23, r22
			callt4 r23, Storage.Volatile.Root.ResetStageSuite()
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._storageManager
			ldofad r22, r23, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r23, r22
			calltp r23, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._storageManager
			ldsrc4 r22, 0x1
			stofa4 r23, r22, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			
			loc_000000f1:
			ldof_u r22, r0, this._result
			ldsrc4 r23, 0xB
			stofa4 r22, r23, ScnContext.Step.Result.Kind
			ldof_u r22, r0, this._result
			stof_u r22, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r22, r0, this._result
			ldsr2  r25, r23, r22
			callt4 r24, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._storageManager
			ldofad r22, r23, Scn.Step.StorageManager._volatileData
			ldofad r23, r22, Storage.Volatile.Root.Arena
			ldof_u r22, r0, this._result
			ldsr2  r24, r23, r22
			ldsrc4 r26, 0x0
			callt4 r24, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r22, r0, this._mods
			ldofad r23, r22, Scn.Step.Modules._storageManager
			ldofad r22, r23, Scn.Step.StorageManager._volatileData
			ldofad r23, r22, Storage.Volatile.Root.SupportSpeak
			ldof_u r22, r0, this._result
			ldofad r24, r0, this._mods
			ldofad r25, r24, Scn.Step.Modules.__bf_TimeManager
			ldofap r21, r25, Scn.Step.TimeManager.__bf_Time
			mcopys r8, r21, Util.TimeSpan
			ldsrsr r25, r8
			calltp r24, Util.TimeSpan.get_Sec()
			cts32f r25, r24
			ldsr3  r26, r23, r22, r25
			callt4 r26, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r22, 0x1
			stofa4 r0, r22, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeFromWmapDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.WmapMarkerInfo
			sppsh  r4, Storage.File.StageKey
			sppsh  r5, Util.TimeSpan
			sppsh  r6, ScnContext.Step.WmapMarkerInfo
			sppsh  r7, ScnContext.Step.CreateInfo
			sppsh  r8, ScnContext.Step.CreateInfo
			sppsh  r9, ScnContext.Step.PlayerInfo
			sppsh  r10, ScnContext.Step.PlayerInfo/StageRarePieceInfo
			sppsh  r11, Storage.File.StageKey
			sppsh  r12, Stdlib.FixedString64
			sppsh  r13, Util.TimeSpan
			ldofap r6, r0, this._argMarkerInfo
			mcopys r1, r6, ScnContext.Step.WmapMarkerInfo
			ldof_u r14, r0, this._result
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.Result.Kind
			ldof_u r14, r0, this._result
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r7, r16, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r15, r7
			ldof_u r16, r15, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r16, ScnContext.Step.MapConnectInfo
			mcopys r8, r7, ScnContext.Step.CreateInfo
			stof_u r14, r8, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._playerManager
			ldsr2  r17, r9, r16
			callt4 r17, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r15, r9, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r15, r14, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r14, ScnContext.Step.WmapInfo
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.WmapResult
			stof_u r15, r6, ScnContext.Step.WmapResult.MarkerInfo
			ldofa4 r14, r6, ScnContext.Step.WmapMarkerInfo.Variation
			jmpneg r14, loc_0000003d
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.WmapResult
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._playerManager
			ldofad r14, r16, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r16, r14, Scn.Step.Player.ShareData.__bf_ComebackedWaddleDeeCount
			ldsrsr r14, r1
			ldof_u r17, r14, ScnContext.Step.WmapMarkerInfo.StageKey
			ldsr2  r19, r16, r17
			callt4 r18, MissionData.ComebackedWaddleDeeCount.ComebackedCount(ref Storage.File.StageKey)
			stofa4 r15, r18, ScnContext.Step.WmapResult.PreComebackedCount
			jmp    loc_0000005d
			
			loc_0000003d:
			ldofa4 r14, r1, ScnContext.Step.WmapMarkerInfo.Variation
			ldsrc4 r15, 0x2
			eqi32  r14, r15, loc_0000005d
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.WmapResult
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._storageManager
			ldofad r14, r16, Scn.Step.StorageManager._backupFileData
			ldsrsr r17, r14
			callt4 r16, Storage.File.BackupFileDataUtil.GetCollectedSoulNumTotal(Storage.File.Root)
			stofa4 r15, r16, ScnContext.Step.WmapResult.PreCollectedSoulCount
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._backupFileData
			ldofad r15, r14, Storage.File.Root.EstoryStages
			ldsrsr r14, r1
			ldof_u r17, r14, ScnContext.Step.WmapMarkerInfo.StageKey
			callt4 r16, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r18, r15, r16
			dcall  r17, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldsrsr r2, r17
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r15, r14, ScnContext.Step.PlayerInfo.Share
			ldsr2  r18, r10, r17
			callt4 r18, ScnContext.Step.PlayerInfo/StageRarePieceInfo.Create(Storage.File.EstoryStageData)
			stof_u r15, r10, ScnContext.Step.PlayerInfo/ShareType.StageRarePieceInfo
			
			loc_0000005d:
			ldofa4 r14, r1, ScnContext.Step.WmapMarkerInfo.Variation
			ldsrc4 r15, 0x3
			eqi32  r14, r15, loc_000000ac
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._actManager
			dcall  r15, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<ActSys.Manager>
			_xref  ActSys.Manager
			_ret   r0
			ldsrsr r17, r15
			dcall  r16, 3
			_xref  ActSys.Manager.Components()
			_xref  ActSys.Manager
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl>
			_xref  Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl
			_ret   r0
			ldsrsr r3, r16
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.WmapResult
			ldof_u r14, r15, ScnContext.Step.WmapResult.MarkerInfo
			ldsrsr r18, r16
			ldsrc4 r19, 0x0
			dcall  r17, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl>
			_xref  Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl
			_ret   r0
			ldofa4 r15, r17, Scn.Step.Actor.Gimmick.WmapWarpStar.LevelChangeCtrl.__bf_CurrentLevel
			sppshz r11, Storage.File.StageKey
			ldsr2  r16, r11, r15
			ldsrc4 r18, 0x0
			callt4 r16, Storage.File.StageKey.this(Storage.File.StoryLevelKind,int)
			stof_u r14, r11, ScnContext.Step.WmapMarkerInfo.StageKey
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._backupFileData
			ldofad r15, r14, Storage.File.Root.StoryStages
			ldsrsr r17, r15
			ldsrc4 r18, 0x3
			dcall  r16, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r14, r16, Storage.File.StoryStageData.IsUnlocked
			jmppos r14, loc_0000009c
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r15, r12
			ldsrca r16, "Town/Town/Step01"
			calltp r15, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r14, r12, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r16, "Town/Town/Step01"
			calltp r15, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r14, r15, ScnContext.Step.MapInfo._pathPostfixNum
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r15, 0x1
			stofa4 r14, r15, ScnContext.Step.MapInfo._startPortalNo
			jmp    loc_000000bc
			
			loc_0000009c:
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r15, r12
			ldsrca r16, "Town/Town/Step09"
			calltp r15, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r14, r12, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r16, "Town/Town/Step09"
			calltp r15, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r14, r15, ScnContext.Step.MapInfo._pathPostfixNum
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r14, r15, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r15, 0x5
			stofa4 r14, r15, ScnContext.Step.MapInfo._startPortalNo
			jmp    loc_000000bc
			
			loc_000000ac:
			ldsrsr r14, r1
			ldof_u r15, r14, ScnContext.Step.WmapMarkerInfo.StageKey
			ldofa4 r14, r15, Storage.File.StageKey.__bf_Category
			ldsrc4 r15, 0x0
			nei32b r16, r14, r15
			jmpneg r16, loc_000000bc
			sppshz r11, Storage.File.StageKey
			ldsrsr r14, r11
			ldsrc4 r15, 0x2
			ldsrc4 r16, 0x0
			callt4 r14, Storage.File.StageKey.this(Storage.File.StoryLevelKind,int)
			mcopys r4, r11, Storage.File.StageKey
			ldof_u r14, r0, this._result
			ldof_u r15, r14, ScnContext.Step.Result.WmapResult
			ldof_u r14, r15, ScnContext.Step.WmapResult.MarkerInfo
			stof_u r14, r11, ScnContext.Step.WmapMarkerInfo.StageKey
			
			loc_000000bc:
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrsr r15, r14
			callt4 r15, Storage.Volatile.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r15, r14
			calltp r15, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r14, r0, this._result
			ldsr2  r17, r15, r14
			callt4 r16, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Arena
			ldof_u r14, r0, this._result
			ldsr2  r16, r15, r14
			ldsrc4 r18, 0x0
			callt4 r16, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.SupportSpeak
			ldof_u r14, r0, this._result
			ldofad r16, r0, this._mods
			ldofad r17, r16, Scn.Step.Modules.__bf_TimeManager
			ldofap r13, r17, Scn.Step.TimeManager.__bf_Time
			mcopys r5, r13, Util.TimeSpan
			ldsrsr r17, r5
			calltp r16, Util.TimeSpan.get_Sec()
			cts32f r17, r16
			ldsr3  r18, r15, r14, r17
			callt4 r18, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r14, 0x1
			stofa4 r0, r14, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeArenaBattleClearedDetail()
		{
			fenter 0
			_void  r0
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r7, Util.TimeSpan
			sppsh  r9, ScnContext.Step.CreateInfo
			sppsh  r10, ScnContext.Step.CreateInfo
			sppsh  r11, ScnContext.Step.PlayerInfo
			sppsh  r12, Util.TimeSpan
			sppsh  r13, ScnContext.Step.MapInfo
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._playerManager
			ldsrsr r1, r15
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._storageManager
			ldofad r14, r16, Scn.Step.StorageManager._volatileData
			ldofad r16, r14, Storage.Volatile.Root.Arena
			ldsrsr r2, r16
			ldofa4 r14, r16, Storage.Volatile.Arena.__bf_CurrentBattleIndex
			ldofa4 r17, r16, Storage.Volatile.Arena.__bf_BattleCount
			ldsrc4 r16, 0x1
			subi32 r18, r17, r16
			lts32b r16, r14, r18
			ldsrsr r3, r16
			ldofad r14, r0, this._mods
			ldofad r17, r14, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r9, r17, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r14, r9
			ldof_u r17, r14, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r17, ScnContext.Step.MapConnectInfo
			mcopys r10, r9, ScnContext.Step.CreateInfo
			mcopys r4, r10, ScnContext.Step.CreateInfo
			ldsrsr r14, r4
			ldsr2  r17, r11, r15
			callt4 r17, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r14, r11, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r14, r4
			ldsr2  r17, r0, r14
			ldsrc4 r19, 0x1
			callt4 r17, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsrsr r14, r4
			ldsr2  r17, r0, r14
			callt4 r17, this.PickUpAbilityItem(ref ScnContext.Step.CreateInfo)
			ldsrc4 r5, 0x0
			jmppos r16, loc_00000048
			ldsrc4 r6, 0x0
			jmp    loc_00000045
			
			loc_0000002e:
			jmppos r6, loc_00000043
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._playerManager
			ldofad r14, r15, Scn.Step.Player.Manager.__bf_ActorDataArray
			ldsr2  r16, r14, r6
			dcall  r15, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Player.ActorData>
			_xref  Scn.Step.Player.ActorData
			_ret   r0
			ldofad r17, r15, Scn.Step.Player.ActorData._hitPoint
			dcall  r16, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<Gobj.HitPoint>
			_xref  Gobj.HitPoint
			_ret   r0
			ldsrsr r18, r16
			calltp r17, Gobj.HitPoint.get_IsDead()
			jmppos r17, loc_00000043
			ldsrc4 r5, 0x1
			jmp    loc_0000004a
			
			loc_00000043:
			ldsrc4 r14, 0x1
			addi32 r6, r6, r14
			
			loc_00000045:
			ldsrc4 r14, 0x2
			ges32  r6, r14, loc_0000002e
			jmp    loc_0000004a
			
			loc_00000048:
			ldsr3  r14, r4, r0, r14
			callt4 r15, this.FullRecoverHero(ref ScnContext.Step.CreateInfo)
			
			loc_0000004a:
			jmppos r3, loc_00000052
			jmppos r5, loc_00000059
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r14, r15, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r15, 0x1
			stofa4 r14, r15, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			jmp    loc_00000059
			
			loc_00000052:
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r14, r15, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			
			loc_00000059:
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r14, r15, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules.__bf_TimeManager
			ldofap r12, r16, Scn.Step.TimeManager.__bf_Time
			mcopys r7, r12, Util.TimeSpan
			ldsrsr r17, r7
			calltp r16, Util.TimeSpan.get_Sec()
			stofa4 r15, r16, ScnContext.Step.ArenaInfo.TotalTimeSec
			jmppos r3, loc_00000091
			ldofa4 r14, r2, Storage.Volatile.Arena.__bf_CurrentBattleIndex
			ldsrc4 r15, 0x1
			addi32 r16, r14, r15
			ldsrsr r8, r16
			stofa4 r2, r16, Storage.Volatile.Arena.__bf_CurrentBattleIndex
			ldsrsr r14, r4
			ldofad r15, r0, this._mods
			ldsr2  r16, r13, r15
			callt4 r16, Scn.Step.Arena.Utility.GetArenaLobbyMapInfo(Scn.Step.Modules)
			stof_u r14, r13, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._storageManager
			ldofad r14, r16, Scn.Step.StorageManager._volatileData
			ldofad r16, r14, Storage.Volatile.Root.Arena
			ldofa4 r14, r16, Storage.Volatile.Arena.__bf_Kind
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x1
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsRevival
			ldof_u r14, r0, this._result
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.Result.Kind
			ldof_u r14, r0, this._result
			mcopys r9, r4, ScnContext.Step.CreateInfo
			stof_u r14, r9, ScnContext.Step.Result.NextCreateInfoBase
			jmp    loc_000000bf
			
			loc_00000091:
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_DifficultyManager
			ldofa4 r14, r15, Scn.Step.DifficultyManager.__bf_Level
			obnew  r15, PlayReportSend.EventData.ArenaResult
			stofap r15, r2, PlayReportSend.EventData.ArenaResult._arena
			ldsrc4 r16, 0x1
			stofa4 r15, r16, PlayReportSend.EventData.ArenaResult._isClear
			stofa4 r15, r14, PlayReportSend.EventData.ArenaResult._difficulty
			ldsrsr r16, r15
			ldsrc4 r17, 0x1
			callt4 r16, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			ldsrsr r14, r4
			ldofad r15, r0, this._mods
			ldsr2  r16, r13, r15
			callt4 r16, Scn.Step.Arena.Utility.GetArenaResultMapInfo(Scn.Step.Modules)
			stof_u r14, r13, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r14, r0, this._mods
			ldofad r16, r14, Scn.Step.Modules._storageManager
			ldofad r14, r16, Scn.Step.StorageManager._volatileData
			ldofad r16, r14, Storage.Volatile.Root.Arena
			ldofa4 r14, r16, Storage.Volatile.Arena.__bf_Kind
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x1
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r14, r4
			ldof_u r15, r14, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r14, 0x0
			stofa4 r15, r14, ScnContext.Step.ArenaInfo.IsRevival
			ldof_u r14, r0, this._result
			ldsrc4 r15, 0x0
			stofa4 r14, r15, ScnContext.Step.Result.Kind
			ldof_u r14, r0, this._result
			mcopys r9, r4, ScnContext.Step.CreateInfo
			stof_u r14, r9, ScnContext.Step.Result.NextCreateInfoBase
			
			loc_000000bf:
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldsrsr r15, r14
			callt4 r15, Storage.Volatile.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r15, r14
			calltp r15, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldsrc4 r14, 0x1
			stofa4 r15, r14, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r14, r0, this._result
			ldsr2  r17, r15, r14
			callt4 r16, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules._storageManager
			ldofad r14, r15, Scn.Step.StorageManager._volatileData
			ldofad r15, r14, Storage.Volatile.Root.Arena
			ldof_u r14, r0, this._result
			ldsr2  r16, r15, r14
			ldsrc4 r18, 0x0
			callt4 r16, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r14, 0x1
			stofa4 r0, r14, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeArenaGameOverDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, Stdlib.FixedString32
			sppsh  r5, Stdlib.FixedString32
			sppsh  r6, ScnContext.Step.CreateInfo
			sppsh  r7, ScnContext.Step.CreateInfo
			sppsh  r8, Util.TimeSpan
			sppsh  r9, Stdlib.FixedString32
			sppsh  r10, Stdlib.FixedString64
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Arena
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules.__bf_DifficultyManager
			ldofa4 r11, r13, Scn.Step.DifficultyManager.__bf_Level
			obnew  r13, PlayReportSend.EventData.ArenaResult
			stofap r13, r12, PlayReportSend.EventData.ArenaResult._arena
			ldsrc4 r12, 0x0
			stofa4 r13, r12, PlayReportSend.EventData.ArenaResult._isClear
			stofa4 r13, r11, PlayReportSend.EventData.ArenaResult._difficulty
			ldsrsr r14, r13
			ldsrc4 r15, 0x1
			callt4 r14, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r6, r12, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r11, r6
			ldof_u r12, r11, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r12, ScnContext.Step.MapConnectInfo
			mcopys r7, r6, ScnContext.Step.CreateInfo
			mcopys r1, r7, ScnContext.Step.CreateInfo
			ldsr3  r11, r1, r0, r11
			ldsrc4 r14, 0x1
			callt4 r12, this.SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r13, r12
			ldsrc4 r14, 0x1
			callt4 r13, Scn.Step.Actor.Basic.RetryCountManager.AddRetryCount(int)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r13, r12
			callt4 r13, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r11, r12, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules.__bf_TimeManager
			ldofap r8, r13, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r8, Util.TimeSpan
			ldsrsr r14, r3
			calltp r13, Util.TimeSpan.get_Sec()
			stofa4 r12, r13, ScnContext.Step.ArenaInfo.TotalTimeSec
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Arena
			ldofa4 r11, r12, Storage.Volatile.Arena.__bf_Kind
			ldsrsr r2, r11
			ldsrsr r12, r1
			ldof_u r13, r12, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r12, 0x1
			addi32 r14, r11, r12
			ldsrsr r15, r9
			ldsrca r16, "Arena/GameOver/Step%02d"
			ldsrsr r17, r14
			dcall  r15, 3
			_xref  Stdlib.FixedString32.FromFormat(string,T1)
			_xref  Stdlib.FixedString32
			_xref  Stdlib.FixedString32
			_xref  Storage.File.ArenaCompetitionKind
			_rtype Stdlib.FixedString32
			mcopys r4, r9, Stdlib.FixedString32
			ldsrsr r11, r4
			mcopys r5, r11, Stdlib.FixedString32
			ldsrsr r15, r5
			calltp r14, Stdlib.FixedString32.ReadPtr()
			ldsr2  r15, r10, r14
			calltp r15, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r13, r10, ScnContext.Step.MapInfo._pathPrefix
			ldsrsr r16, r14
			calltp r15, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r13, r15, ScnContext.Step.MapInfo._pathPostfixNum
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.MapInfo._startPortalNo
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules._storageManager
			ldofad r11, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r11, Storage.Volatile.Root.Arena
			ldofa4 r11, r13, Storage.Volatile.Arena.__bf_Kind
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x1
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r11, r1
			ldof_u r12, r11, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r11, 0x0
			stofa4 r12, r11, ScnContext.Step.ArenaInfo.IsRevival
			ldof_u r11, r0, this._result
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.Result.Kind
			ldof_u r11, r0, this._result
			mcopys r6, r1, ScnContext.Step.CreateInfo
			stof_u r11, r6, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldsrsr r12, r11
			callt4 r12, Storage.Volatile.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r12, r11
			calltp r12, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldsrc4 r11, 0x1
			stofa4 r12, r11, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r11, r0, this._result
			ldsr2  r14, r12, r11
			callt4 r13, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Arena
			ldof_u r11, r0, this._result
			ldsr2  r13, r12, r11
			ldsrc4 r15, 0x0
			callt4 r13, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r11, 0x1
			stofa4 r0, r11, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeArenaRevivalDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.CreateInfo
			sppsh  r2, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, Util.TimeSpan
			sppsh  r7, ScnContext.Step.MapInfo
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r9, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r8, r4
			ldof_u r9, r8, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r9, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r1, r5, ScnContext.Step.CreateInfo
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r8, r0, this._mods
			ldofad r10, r8, Scn.Step.Modules.__bf_TimeManager
			ldofap r6, r10, Scn.Step.TimeManager.__bf_Time
			mcopys r2, r6, Util.TimeSpan
			ldsrsr r11, r2
			calltp r10, Util.TimeSpan.get_Sec()
			stofa4 r9, r10, ScnContext.Step.ArenaInfo.TotalTimeSec
			ldsr3  r8, r1, r0, r8
			ldsrc4 r11, 0x0
			callt4 r9, this.SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r8, r1, r0, r8
			ldsrc4 r11, 0x0
			callt4 r9, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r8, r1, r0, r8
			callt4 r9, this.PickUpAbilityItem(ref ScnContext.Step.CreateInfo)
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r10, r9
			ldsrc4 r11, 0x1
			callt4 r10, Scn.Step.Actor.Basic.RetryCountManager.AddRetryCount(int)
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules._storageManager
			ldofad r8, r9, Scn.Step.StorageManager._volatileData
			ldofad r9, r8, Storage.Volatile.Root.Arena
			ldofa4 r8, r9, Storage.Volatile.Arena.__bf_RevivalCount
			ldsrc4 r10, 0x1
			addi32 r11, r8, r10
			ldsrsr r3, r11
			stofa4 r9, r11, Storage.Volatile.Arena.__bf_RevivalCount
			ldsrsr r8, r1
			ldofad r9, r0, this._mods
			ldsr2  r10, r7, r9
			callt4 r10, Scn.Step.Arena.Utility.GetArenaLobbyMapInfo(Scn.Step.Modules)
			stof_u r8, r7, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldofad r8, r0, this._mods
			ldofad r10, r8, Scn.Step.Modules._storageManager
			ldofad r8, r10, Scn.Step.StorageManager._volatileData
			ldofad r10, r8, Storage.Volatile.Root.Arena
			ldofa4 r8, r10, Storage.Volatile.Arena.__bf_Kind
			stofa4 r9, r8, ScnContext.Step.ArenaInfo.CompetitionKind
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r8, 0x1
			stofa4 r9, r8, ScnContext.Step.ArenaInfo.IsLobby
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r8, 0x0
			stofa4 r9, r8, ScnContext.Step.ArenaInfo.IsResult
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r8, 0x0
			stofa4 r9, r8, ScnContext.Step.ArenaInfo.IsGameOver
			ldsrsr r8, r1
			ldof_u r9, r8, ScnContext.Step.CreateInfo.ArenaInfo
			ldsrc4 r8, 0x1
			stofa4 r9, r8, ScnContext.Step.ArenaInfo.IsRevival
			ldof_u r8, r0, this._result
			ldsrc4 r9, 0x0
			stofa4 r8, r9, ScnContext.Step.Result.Kind
			ldof_u r8, r0, this._result
			mcopys r4, r1, ScnContext.Step.CreateInfo
			stof_u r8, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r10, r9
			callt4 r10, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules._storageManager
			ldofad r8, r9, Scn.Step.StorageManager._volatileData
			ldsrsr r9, r8
			callt4 r9, Storage.Volatile.Root.ResetStageSuite()
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules._storageManager
			ldofad r8, r9, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r9, r8
			calltp r9, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules._storageManager
			ldsrc4 r8, 0x1
			stofa4 r9, r8, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r8, r0, this._result
			ldsr2  r11, r9, r8
			callt4 r10, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r8, r0, this._mods
			ldofad r9, r8, Scn.Step.Modules._storageManager
			ldofad r8, r9, Scn.Step.StorageManager._volatileData
			ldofad r9, r8, Storage.Volatile.Root.Arena
			ldof_u r8, r0, this._result
			ldsr2  r10, r9, r8
			ldsrc4 r12, 0x0
			callt4 r10, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r8, 0x1
			stofa4 r0, r8, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeArenaResultExitDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, ScnContext.Step.CreateInfo
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.PlayerInfo
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._playerManager
			ldsrsr r1, r7
			ldofad r6, r0, this._mods
			ldofad r8, r6, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r3, r8, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r6, r3
			ldof_u r8, r6, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r8, ScnContext.Step.MapConnectInfo
			mcopys r4, r3, ScnContext.Step.CreateInfo
			mcopys r2, r4, ScnContext.Step.CreateInfo
			ldsrsr r6, r2
			ldsr2  r8, r0, r6
			callt4 r8, this.SetupBgmInfo(ref ScnContext.Step.CreateInfo)
			ldsrsr r6, r2
			ldsr2  r8, r0, r6
			callt4 r8, this.FullRecoverHero(ref ScnContext.Step.CreateInfo)
			ldsrsr r6, r2
			ldsr2  r8, r5, r7
			callt4 r8, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r6, r5, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r6, r2
			ldof_u r7, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r6, r7, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r7, 0x0
			stofa4 r6, r7, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r6, Storage.Volatile.Root.Arena
			ldofa4 r6, r7, Storage.Volatile.Arena.__bf_Kind
			ldsrc4 r7, 0x2
			eqi32  r6, r7, loc_00000033
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r6, Storage.Volatile.Root.Town
			ldsrc4 r6, 0x0
			stofa4 r7, r6, Storage.Volatile.Town.__bf_IsNeedToReselectUseExtraBgm
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r6, Storage.Volatile.Root.Town
			ldsrc4 r6, 0x1
			stofa4 r7, r6, Storage.Volatile.Town.__bf_IsUseExtraBgm
			
			loc_00000033:
			ldsrsr r6, r2
			ldof_u r7, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r6, r7, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r7, 0x0
			stofa4 r6, r7, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r7, 0x0
			stofa4 r6, r7, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			ldsrsr r6, r2
			ldof_u r7, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r6, r7, ScnContext.Step.PlayerInfo.Share
			ldof_u r7, r6, ScnContext.Step.PlayerInfo/ShareType.AmiiboIdList
			dcall  r7, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<ScnContext.Step.PlayerInfo/AmiiboInfo>
			_short 1
			_void  r0
			ldsrsr r6, r2
			ldof_u r7, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r6, r7, ScnContext.Step.PlayerInfo.Share
			ldsrc4 r7, 0x0
			stofa4 r6, r7, ScnContext.Step.PlayerInfo/ShareType.PointStarCountByAmiibo
			ldof_u r6, r0, this._result
			ldsrc4 r7, 0x4
			stofa4 r6, r7, ScnContext.Step.Result.Kind
			ldof_u r6, r0, this._result
			mcopys r3, r2, ScnContext.Step.CreateInfo
			stof_u r6, r3, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r8, r7
			callt4 r8, Scn.Step.Actor.Basic.RetryCountManager.Clear()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r8, r7
			callt4 r8, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldsrsr r7, r6
			callt4 r7, Storage.Volatile.Root.ResetStageSuite()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r7, r6
			calltp r7, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldsrc4 r6, 0x1
			stofa4 r7, r6, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r6, r0, this._result
			ldsr2  r9, r7, r6
			callt4 r8, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r6, Storage.Volatile.Root.Arena
			ldof_u r6, r0, this._result
			ldsr2  r8, r7, r6
			ldsrc4 r10, 0x0
			callt4 r8, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r6, 0x1
			stofa4 r0, r6, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTheaterMovieStartDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, ScnContext.Step.CreateInfo
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.PlayerInfo
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._playerManager
			ldsrsr r1, r7
			ldofad r6, r0, this._mods
			ldofad r8, r6, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r3, r8, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r6, r3
			ldof_u r8, r6, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r8, ScnContext.Step.MapConnectInfo
			mcopys r4, r3, ScnContext.Step.CreateInfo
			mcopys r2, r4, ScnContext.Step.CreateInfo
			ldsrsr r6, r2
			ldsr2  r8, r5, r7
			callt4 r8, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r6, r5, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r6, r2, r0, r6
			ldsrc4 r9, 0x0
			callt4 r7, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r6, r2, r0, r6
			callt4 r7, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r6, r2
			ldof_u r7, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r6, r7, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r7, 0xA
			stofa4 r6, r7, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r8, r7
			callt4 r8, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldsrsr r7, r6
			callt4 r7, Storage.Volatile.Root.ResetStageSuite()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r7, r6
			calltp r7, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldsrc4 r6, 0x1
			stofa4 r7, r6, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r6, r0, this._result
			ldsrc4 r7, 0x0
			stofa4 r6, r7, ScnContext.Step.Result.Kind
			ldof_u r6, r0, this._result
			mcopys r3, r2, ScnContext.Step.CreateInfo
			stof_u r6, r3, ScnContext.Step.Result.NextCreateInfoBase
			ldof_u r6, r0, this._result
			ldof_u r7, r6, ScnContext.Step.Result.TheaterRoomResult
			ldofa4 r6, r0, this._reserveTheaterMovieKind
			stofa4 r7, r6, ScnContext.Step.TheaterRoomResult.TheaterMovieKind
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r6, r0, this._result
			ldsr2  r9, r7, r6
			callt4 r8, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r6, r0, this._mods
			ldofad r7, r6, Scn.Step.Modules._storageManager
			ldofad r6, r7, Scn.Step.StorageManager._volatileData
			ldofad r7, r6, Storage.Volatile.Root.Arena
			ldof_u r6, r0, this._result
			ldsr2  r8, r7, r6
			ldsrc4 r10, 0x0
			callt4 r8, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldsrc4 r6, 0x1
			stofa4 r0, r6, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeStreetLiveUpgradeDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.BgmInfo
			sppsh  r8, ScnContext.Step.BgmInfo
			sppsh  r9, Util.TimeSpan
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._playerManager
			ldsrsr r1, r11
			ldofad r10, r0, this._mods
			ldofad r12, r10, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r12, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r10, r4
			ldof_u r12, r10, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r12, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r10, r2
			ldsr2  r12, r6, r11
			callt4 r12, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r10, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r10, r2
			ldsrsr r11, r7
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r11, r7
			ldof_u r12, r11, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r12, Stdlib.FixedString64
			ldsrsr r11, r7
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r8, r7, ScnContext.Step.BgmInfo
			stof_u r10, r8, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r10, r2, r0, r10
			ldsrc4 r13, 0x0
			callt4 r11, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r10, r2, r0, r10
			callt4 r11, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r10, r2
			ldof_u r11, r10, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r10, r11, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r11, 0xB
			stofa4 r10, r11, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r10, r2
			ldof_u r11, r10, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r10, 0x0
			stofa4 r11, r10, ScnContext.Step.MapInfo._startPortalNo
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r12, r11
			callt4 r12, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._volatileData
			ldsrsr r11, r10
			callt4 r11, Storage.Volatile.Root.ResetStageSuite()
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r11, r10
			calltp r11, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldsrc4 r10, 0x1
			stofa4 r11, r10, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r10, r0, this._result
			ldsrc4 r11, 0x0
			stofa4 r10, r11, ScnContext.Step.Result.Kind
			ldof_u r10, r0, this._result
			mcopys r4, r2, ScnContext.Step.CreateInfo
			stof_u r10, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r10, r0, this._result
			ldsr2  r13, r11, r10
			callt4 r12, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._volatileData
			ldofad r11, r10, Storage.Volatile.Root.Arena
			ldof_u r10, r0, this._result
			ldsr2  r12, r11, r10
			ldsrc4 r14, 0x0
			callt4 r12, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._volatileData
			ldofad r11, r10, Storage.Volatile.Root.SupportSpeak
			ldof_u r10, r0, this._result
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_TimeManager
			ldofap r9, r13, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r9, Util.TimeSpan
			ldsrsr r13, r3
			calltp r12, Util.TimeSpan.get_Sec()
			cts32f r13, r12
			ldsr3  r14, r11, r10, r13
			callt4 r14, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._backupFileData
			ldsrsr r12, r10
			callt4 r11, Storage.File.BackupFileDataUtil.UpdateTown(Storage.File.Root)
			ldsrc4 r10, 0x1
			stofa4 r0, r10, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeTownEventDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.MapInfo
			sppsh  r8, ScnContext.Step.PlayerInfo/StepInInfoType
			sppsh  r9, ScnContext.Step.BgmInfo
			sppsh  r10, ScnContext.Step.BgmInfo
			sppsh  r11, Util.TimeSpan
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._playerManager
			ldsrsr r1, r13
			ldofad r12, r0, this._mods
			ldofad r14, r12, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r14, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r12, r4
			ldof_u r14, r12, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r14, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r12, r2
			ldsr2  r14, r6, r13
			callt4 r14, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r12, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r12, r2, r0, r12
			ldsrc4 r15, 0x0
			callt4 r13, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r12, r2, r0, r12
			callt4 r13, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r12, r2
			ldof_u r13, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r12, r13, ScnContext.Step.PlayerInfo.StepInInfo
			ldofa4 r13, r0, this._argStepInKind
			stofa4 r12, r13, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r12, r2
			ldofap r7, r0, this._argMapInfo
			stof_u r12, r7, ScnContext.Step.CreateInfo.MapInfo
			mcopys r4, r2, ScnContext.Step.CreateInfo
			ldofap r6, r4, ScnContext.Step.CreateInfo.PlayerInfo
			ldofap r8, r6, ScnContext.Step.PlayerInfo.StepInInfo
			ldofa4 r12, r8, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrc4 r13, 0xD
			nei32  r12, r13, loc_0000003a
			ldsrsr r12, r2
			ldsrsr r13, r9
			ldsrc4 r14, 0x0
			stofa4 r13, r14, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r13, r9
			ldof_u r14, r13, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r14, Stdlib.FixedString64
			ldsrsr r13, r9
			ldsrc4 r14, 0x0
			stofa4 r13, r14, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r10, r9, ScnContext.Step.BgmInfo
			stof_u r12, r10, ScnContext.Step.CreateInfo.BgmInfo
			
			loc_0000003a:
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r14, r13
			callt4 r14, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldsrsr r13, r12
			callt4 r13, Storage.Volatile.Root.ResetStageSuite()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r13, r12
			calltp r13, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldsrc4 r12, 0x1
			stofa4 r13, r12, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r12, r0, this._result
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.Result.Kind
			ldof_u r12, r0, this._result
			stof_u r12, r2, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r12, r0, this._result
			ldsr2  r15, r13, r12
			callt4 r14, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.Arena
			ldof_u r12, r0, this._result
			ldsr2  r14, r13, r12
			ldsrc4 r16, 0x0
			callt4 r14, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._volatileData
			ldofad r13, r12, Storage.Volatile.Root.SupportSpeak
			ldof_u r12, r0, this._result
			ldofad r14, r0, this._mods
			ldofad r15, r14, Scn.Step.Modules.__bf_TimeManager
			ldofap r11, r15, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r11, Util.TimeSpan
			ldsrsr r15, r3
			calltp r14, Util.TimeSpan.get_Sec()
			cts32f r15, r14
			ldsr3  r16, r13, r12, r15
			callt4 r16, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._backupFileData
			ldsrsr r14, r12
			callt4 r13, Storage.File.BackupFileDataUtil.UpdateTown(Storage.File.Root)
			ldsrc4 r12, 0x1
			stofa4 r0, r12, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeDeliveryPresentBoxDetail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Util.TimeSpan
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r5, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo
			sppsh  r7, ScnContext.Step.BgmInfo
			sppsh  r8, ScnContext.Step.BgmInfo
			sppsh  r9, Stdlib.FixedString64
			sppsh  r10, Util.TimeSpan
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._playerManager
			ldsrsr r1, r12
			ldofad r11, r0, this._mods
			ldofad r13, r11, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r4, r13, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r11, r4
			ldof_u r13, r11, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r13, ScnContext.Step.MapConnectInfo
			mcopys r5, r4, ScnContext.Step.CreateInfo
			mcopys r2, r5, ScnContext.Step.CreateInfo
			ldsrsr r11, r2
			ldsr2  r13, r6, r12
			callt4 r13, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r11, r6, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r11, r2
			ldsrsr r12, r7
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r12, r7
			ldof_u r13, r12, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r13, Stdlib.FixedString64
			ldsrsr r12, r7
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r8, r7, ScnContext.Step.BgmInfo
			stof_u r11, r8, ScnContext.Step.CreateInfo.BgmInfo
			ldsr3  r11, r2, r0, r11
			ldsrc4 r14, 0x0
			callt4 r12, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r11, r2, r0, r11
			callt4 r12, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r11, r12, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r12, 0x11
			stofa4 r11, r12, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r13, r9
			ldsrca r14, "Town/Town/Step01"
			calltp r13, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r12, r9, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r14, "Town/Town/Step01"
			calltp r13, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r12, r13, ScnContext.Step.MapInfo._pathPostfixNum
			ldsrsr r11, r2
			ldof_u r12, r11, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r11, 0x10
			stofa4 r12, r11, ScnContext.Step.MapInfo._startPortalNo
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r13, r12
			callt4 r13, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldsrsr r12, r11
			callt4 r12, Storage.Volatile.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r12, r11
			calltp r12, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldsrc4 r11, 0x1
			stofa4 r12, r11, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldof_u r11, r0, this._result
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.Result.Kind
			ldof_u r11, r0, this._result
			mcopys r4, r2, ScnContext.Step.CreateInfo
			stof_u r11, r4, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r11, r0, this._result
			ldsr2  r14, r12, r11
			callt4 r13, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.Arena
			ldof_u r11, r0, this._result
			ldsr2  r13, r12, r11
			ldsrc4 r15, 0x0
			callt4 r13, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._volatileData
			ldofad r12, r11, Storage.Volatile.Root.SupportSpeak
			ldof_u r11, r0, this._result
			ldofad r13, r0, this._mods
			ldofad r14, r13, Scn.Step.Modules.__bf_TimeManager
			ldofap r10, r14, Scn.Step.TimeManager.__bf_Time
			mcopys r3, r10, Util.TimeSpan
			ldsrsr r14, r3
			calltp r13, Util.TimeSpan.get_Sec()
			cts32f r14, r13
			ldsr3  r15, r12, r11, r14
			callt4 r15, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r11, 0x1
			stofa4 r0, r11, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeToLevel7Detail()
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.CreateInfo
			sppsh  r3, Storage.File.StageKey
			sppsh  r4, ScnContext.Step.MapInfo
			sppsh  r5, ScnContext.Step.DifficultyInfo
			sppsh  r6, Stdlib.FixedString128
			sppsh  r7, Util.TimeSpan
			sppsh  r8, Stdlib.FixedString128
			sppsh  r9, ScnContext.Step.CreateInfo
			sppsh  r10, ScnContext.Step.CreateInfo
			sppsh  r11, ScnContext.Step.DifficultyInfo
			sppsh  r12, ScnContext.Step.DifficultyInfo
			sppsh  r13, ScnContext.Step.PlayerInfo
			sppsh  r14, ScnContext.Step.MissionInfo
			sppsh  r15, ScnContext.Step.PlayerInfo/RestartInfoType
			sppsh  r16, ScnContext.Step.BgmInfo
			sppsh  r17, ScnContext.Step.BgmInfo
			sppsh  r18, Stdlib.FixedString128
			sppsh  r19, Stdlib.FixedString64
			sppsh  r20, ScnContext.Step.MapInfo
			sppsh  r21, Util.TimeSpan
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._playerManager
			ldsrsr r1, r24
			ldofad r23, r0, this._mods
			ldofad r25, r23, Scn.Step.Modules._storageManager
			ldofad r23, r25, Scn.Step.StorageManager._backupFileData
			ldofad r25, r24, Scn.Step.Player.Manager.__bf_PowerUpCtrl
			ldofad r24, r25, Scn.Step.Player.PowerUpCtrl._mightyTime
			ldof_u r25, r24, Util.TimeCounter._pod
			calltp r25, Util.TimeCounter/Pod.ToEnd()
			ldofad r24, r0, this._mods
			ldofad r25, r24, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r9, r25, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r24, r9
			ldof_u r25, r24, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r25, ScnContext.Step.MapConnectInfo
			mcopys r10, r9, ScnContext.Step.CreateInfo
			mcopys r2, r10, ScnContext.Step.CreateInfo
			ldofa4 r24, r0, this._isChangeDifficultyToStandard
			ldsrsr r22, r23
			jmppos r24, loc_00000038
			sppshz r11, ScnContext.Step.DifficultyInfo
			ldsrsr r23, r11
			ldsrc4 r24, 0x1
			stofa4 r23, r24, ScnContext.Step.DifficultyInfo.Level
			mcopys r12, r11, ScnContext.Step.DifficultyInfo
			mcopys r5, r12, ScnContext.Step.DifficultyInfo
			ldsrsr r23, r5
			ldsrc4 r24, 0x1
			stofa4 r23, r24, ScnContext.Step.DifficultyInfo.Level
			ldsrsr r23, r2
			mcopys r11, r5, ScnContext.Step.DifficultyInfo
			stof_u r23, r11, ScnContext.Step.CreateInfo.DifficultyInfo
			ldsrsr r22, r22
			
			loc_00000038:
			ldsrsr r23, r2
			ldsr2  r24, r13, r1
			callt4 r24, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r23, r13, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r23, r2, r0, r23
			ldsrc4 r26, 0x0
			callt4 r24, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldsr3  r23, r2, r0, r23
			callt4 r24, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			ldsr3  r23, r2, r0, r23
			callt4 r24, this.ReviveSubHero(ref ScnContext.Step.CreateInfo)
			ldsrsr r23, r2
			ldofad r24, r0, this._mods
			ldofad r25, r24, Scn.Step.Modules._missionManager
			ldsr2  r26, r14, r25
			callt4 r26, Scn.Step.Mission.Manager.CreateContext()
			stof_u r23, r14, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldsrsr r25, r15
			callt4 r25, ScnContext.Step.PlayerInfo/RestartInfoType.CreateDefault()
			stof_u r24, r15, ScnContext.Step.PlayerInfo.RestartInfo
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.Share
			ldof_u r24, r23, ScnContext.Step.PlayerInfo/ShareType.CapsuleInfo
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleKindList
			dcall  r25, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/CapsuleInfo.CapsuleUidList
			dcall  r25, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<int>
			_short 1
			_void  r0
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.Share
			ldof_u r24, r23, ScnContext.Step.PlayerInfo/ShareType.SoulInfo
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList1
			dcall  r25, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/SoulInfo.SoulSingleUidList2
			dcall  r25, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/SoulInfo.SoulTripleUidList
			dcall  r25, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldof_u r25, r24, ScnContext.Step.PlayerInfo/SoulInfo.SoulEnemyUidList
			dcall  r25, 2
			_xref  Stdlib.MutableArray32`1.Clear()
			_xref  Stdlib.MutableArray32`1<int>
			_short 1
			_void  r0
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.Share
			ldof_u r24, r23, ScnContext.Step.PlayerInfo/ShareType.AmiiboIdList
			dcall  r24, 2
			_xref  Stdlib.MutableArray8`1.Clear()
			_xref  Stdlib.MutableArray8`1<ScnContext.Step.PlayerInfo/AmiiboInfo>
			_short 1
			_void  r0
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.Share
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.PlayerInfo/ShareType.PointStarCountByAmiibo
			ldsrsr r23, r2
			ldsrsr r24, r16
			ldsrc4 r25, 0x0
			stofa4 r24, r25, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r24, r16
			ldof_u r25, r24, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r25, Stdlib.FixedString64
			ldsrsr r24, r16
			ldsrc4 r25, 0x0
			stofa4 r24, r25, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r17, r16, ScnContext.Step.BgmInfo
			stof_u r23, r17, ScnContext.Step.CreateInfo.BgmInfo
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r23, 0x0
			stofa4 r24, r23, ScnContext.Step.MovieInfo.MovieKindPrev
			ldsr2  r23, r3, r2
			ldof_u r25, r24, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r26, r18, r25
			callt4 r26, ScnContext.Step.MapInfo.get_Path()
			mcopys r6, r18, Stdlib.FixedString128
			ldsrsr r24, r6
			mcopys r8, r24, Stdlib.FixedString128
			ldsrsr r25, r8
			calltp r24, Stdlib.FixedString128.ReadPtr()
			ldsr2  r25, r23, r24
			callt4 r25, Storage.File.StageKey.this(string)
			ldofad r23, r22, Storage.File.Root.Wmap
			ldsrc4 r24, 0x1
			stofa4 r23, r24, Storage.File.Wmap.IsNeedToShowClearDemo
			ldofad r23, r22, Storage.File.Root.Wmap
			ldofad r24, r1, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r25, r24, Scn.Step.Player.ShareData.__bf_ComebackedWaddleDeeCount
			ldsrsr r24, r3
			ldsr2  r27, r25, r24
			callt4 r26, MissionData.ComebackedWaddleDeeCount.ComebackedCount(ref Storage.File.StageKey)
			stofa4 r23, r26, Storage.File.Wmap.PreComebackedCount
			ldsr3  r23, r3, r0, r23
			callt4 r24, this.SendPlayReportOnStageClear(ref Storage.File.StageKey)
			ldsr5  r23, r2, r3, r0, r23, r24
			callt4 r25, this.UpdateBackupFileDataOnStageClear(ref ScnContext.Step.CreateInfo,ref Storage.File.StageKey)
			mcopys r9, r2, ScnContext.Step.CreateInfo
			ldofap r4, r9, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r23, r4
			ldsrsr r24, r19
			ldsrca r25, "Level7/Stage1/Step01"
			calltp r24, ScnContext.StepUtil.PathPrefixTextBasil(string)
			stof_u r23, r19, ScnContext.Step.MapInfo._pathPrefix
			ldsrca r25, "Level7/Stage1/Step01"
			calltp r24, ScnContext.StepUtil.PathPostfixNum(string)
			stofa4 r23, r24, ScnContext.Step.MapInfo._pathPostfixNum
			ldsrsr r23, r4
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.MapInfo._startPortalNo
			ldsrsr r23, r2
			mcopys r20, r4, ScnContext.Step.MapInfo
			stof_u r23, r20, ScnContext.Step.CreateInfo.MapInfo
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._pwdeeManager
			ldsrsr r25, r24
			callt4 r25, Scn.Step.PwdeeManager.FixTentativeRecord()
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r25, r24
			callt4 r25, Scn.Step.Actor.Basic.RetryCountManager.Clear()
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r25, r24
			callt4 r25, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._storageManager
			ldofad r23, r24, Scn.Step.StorageManager._volatileData
			ldsrsr r24, r23
			callt4 r24, Storage.Volatile.Root.ResetStageSuite()
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._storageManager
			ldofad r23, r24, Scn.Step.StorageManager._volatileDataRaw
			ldsrsr r24, r23
			calltp r24, Storage.VolatileRaw.Root.ResetStageSuite()
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._storageManager
			ldsrc4 r23, 0x1
			stofa4 r24, r23, Scn.Step.StorageManager._isRequestedResetStageVolatileDataOnSceneCleanup
			ldsrsr r23, r2
			ldof_u r24, r23, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r23, r24, ScnContext.Step.PlayerInfo.StepInInfo
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldof_u r23, r0, this._result
			ldsrc4 r24, 0x0
			stofa4 r23, r24, ScnContext.Step.Result.Kind
			ldof_u r23, r0, this._result
			mcopys r10, r2, ScnContext.Step.CreateInfo
			stof_u r23, r10, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r23, r0, this._result
			ldsr2  r26, r24, r23
			callt4 r25, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._storageManager
			ldofad r23, r24, Scn.Step.StorageManager._volatileData
			ldofad r24, r23, Storage.Volatile.Root.Arena
			ldof_u r23, r0, this._result
			ldsr2  r25, r24, r23
			ldsrc4 r27, 0x0
			callt4 r25, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r23, r0, this._mods
			ldofad r24, r23, Scn.Step.Modules._storageManager
			ldofad r23, r24, Scn.Step.StorageManager._volatileData
			ldofad r24, r23, Storage.Volatile.Root.SupportSpeak
			ldof_u r23, r0, this._result
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules.__bf_TimeManager
			ldofap r21, r26, Scn.Step.TimeManager.__bf_Time
			mcopys r7, r21, Util.TimeSpan
			ldsrsr r26, r7
			calltp r25, Util.TimeSpan.get_Sec()
			cts32f r26, r25
			ldsr3  r27, r24, r23, r26
			callt4 r27, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r23, 0x1
			stofa4 r0, r23, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeMapDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.MapInfo
			sppsh  r4, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r8, ScnContext.Step.AbilityInfo
			sppsh  r11, Util.TimeSpan
			sppsh  r12, ScnContext.Step.CreateInfo
			sppsh  r13, ScnContext.Step.CreateInfo
			sppsh  r14, ScnContext.Step.PlayerInfo
			sppsh  r15, ScnContext.Step.PlayerInfo/Actor
			sppsh  r16, ScnContext.Step.AbilityInfo
			sppsh  r17, ScnContext.Step.AbilityInfo
			sppsh  r18, ScnContext.Step.MissionInfo
			sppsh  r19, ScnContext.Step.MapInfo
			sppsh  r20, ScnContext.Step.MapInfo
			sppsh  r21, ScnContext.Step.ModeInfo
			sppsh  r22, ScnContext.Step.BgmInfo
			sppsh  r23, ScnContext.Step.BgmInfo
			sppsh  r24, Util.TimeSpan
			ldofap r1, r0, this._argMapInfo
			ldofa4 r2, r0, this._argStepInKind
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._playerManager
			ldsrsr r3, r26
			ldofad r25, r0, this._mods
			ldofad r27, r25, Scn.Step.Modules._playerManager
			ldsrsr r28, r27
			ldsrc4 r29, 0x0
			ldsrc4 r30, 0x0
			ldsrc4 r31, 0x0
			callt4 r28, Scn.Step.Player.Manager.SaveRestartInfo(bool,bool,bool)
			ldofad r25, r0, this._mods
			ldofad r27, r25, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r12, r27, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r25, r12
			ldof_u r27, r25, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r27, ScnContext.Step.MapConnectInfo
			mcopys r13, r12, ScnContext.Step.CreateInfo
			mcopys r4, r13, ScnContext.Step.CreateInfo
			ldsrsr r25, r4
			ldsr2  r27, r14, r26
			callt4 r27, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r25, r14, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr3  r25, r4, r0, r25
			ldsrc4 r28, 0x0
			callt4 r26, this.DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
			ldofa4 r25, r0, this._isDiscardMainPlayerDeform
			jmppos r25, loc_00000034
			ldsr3  r25, r4, r0, r25
			callt4 r26, this.DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
			
			loc_00000034:
			ldsrc4 r5, 0x0
			jmp    loc_0000005a
			
			loc_00000036:
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r25, r26, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r26, r15, r25, r5
			callt4 r26, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r6, r15, ScnContext.Step.PlayerInfo/Actor
			ldofap r7, r15, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r26, r7
			callt4 r25, Scn.Step.AbilityKindUtil.IsNeedToDiscardDeformOnChangeMap(ref ScnContext.Step.AbilityInfo)
			jmppos r25, loc_00000058
			ldsrsr r25, r7
			ldofa4 r26, r25, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r25, r7
			ldofa4 r27, r25, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			sppshz r16, ScnContext.Step.AbilityInfo
			ldsrsr r25, r16
			stofa4 r25, r26, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r25, r16
			stofa4 r25, r27, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r25, r16
			ldsrc4 r26, 0x0
			stofa4 r25, r26, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r25, r16
			ldsrc4 r26, 0x0
			stofa4 r25, r26, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r17, r16, ScnContext.Step.AbilityInfo
			mcopys r8, r17, ScnContext.Step.AbilityInfo
			ldsrsr r25, r6
			stof_u r25, r17, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r25, r26, ScnContext.Step.PlayerInfo.Actors
			ldsr4  r26, r6, r25, r5, r26
			callt4 r27, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			
			loc_00000058:
			ldsrc4 r25, 0x1
			addi32 r5, r5, r25
			
			loc_0000005a:
			ldsrc4 r25, 0x2
			ges32  r5, r25, loc_00000036
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._playerManager
			ldsrsr r25, r4
			ldsr2  r27, r26, r25
			callt4 r27, Scn.Step.Player.Manager.SaveRestartInfoDeformAbility(ref ScnContext.Step.CreateInfo)
			ldsrsr r25, r4
			stof_u r25, r1, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r25, r4
			ldofad r26, r0, this._mods
			ldofad r27, r26, Scn.Step.Modules._missionManager
			ldsr2  r28, r18, r27
			callt4 r28, Scn.Step.Mission.Manager.CreateContext()
			stof_u r25, r18, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r25, r26, ScnContext.Step.PlayerInfo.StepInInfo
			stofa4 r25, r2, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrc4 r9, 0x0
			ldsrc4 r10, 0x0
			jmp    loc_00000087
			
			loc_00000070:
			jmppos r10, loc_00000085
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._playerManager
			ldofad r25, r26, Scn.Step.Player.Manager.__bf_ActorDataArray
			ldsr2  r27, r25, r10
			dcall  r26, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Player.ActorData>
			_xref  Scn.Step.Player.ActorData
			_ret   r0
			ldofad r28, r26, Scn.Step.Player.ActorData._hitPoint
			dcall  r27, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<Gobj.HitPoint>
			_xref  Gobj.HitPoint
			_ret   r0
			ldsrsr r29, r27
			calltp r28, Gobj.HitPoint.get_IsDead()
			jmppos r28, loc_00000085
			ldsrc4 r9, 0x1
			jmp    loc_00000089
			
			loc_00000085:
			ldsrc4 r25, 0x1
			addi32 r10, r10, r25
			
			loc_00000087:
			ldsrc4 r25, 0x2
			ges32  r10, r25, loc_00000070
			
			loc_00000089:
			jmppos r9, loc_0000008f
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r25, r26, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r26, 0x1
			stofa4 r25, r26, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			
			loc_0000008f:
			ldsr3  r25, r4, r0, r25
			callt4 r26, this.SetupReturnMapConnectInfo(ref ScnContext.Step.CreateInfo)
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.MapConnectInfo
			ldof_u r27, r25, ScnContext.Step.CreateInfo.MapInfo
			ldofa4 r25, r27, ScnContext.Step.MapInfo._pathPostfixNum
			ldofad r27, r0, this._mods
			ldofad r28, r27, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r27, r28, Scn.Step.CreateInfoManager._createInfo
			ldofap r19, r27, ScnContext.Step.CreateInfo.MapInfo
			mcopys r20, r19, ScnContext.Step.MapInfo
			ldsrsr r27, r20
			ldofa4 r28, r27, ScnContext.Step.MapInfo._pathPostfixNum
			subi32 r27, r25, r28
			negs32 r25, r27
			stofa4 r26, r25, ScnContext.Step.MapConnectInfo.__bf_PreviousMapDiffStepNum
			ldsrsr r25, r4
			ldof_u r26, r25, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r25, 0x0
			stofa4 r26, r25, ScnContext.Step.MovieInfo.MovieKindPrev
			ldsr3  r25, r4, r0, r25
			callt4 r26, this.SetMovieInfoIfNeed(ref ScnContext.Step.CreateInfo)
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r25, r26, Scn.Step.CreateInfoManager._createInfo
			ldofap r21, r25, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r25, r21, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r26, 0x5
			eqi32  r25, r26, loc_000000bb
			ldofa4 r25, r0, this._isOverrideBgm
			jmpneg r25, loc_000000bb
			ldsrsr r25, r4
			ldsrsr r26, r22
			ldsrc4 r27, 0x0
			stofa4 r26, r27, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldsrsr r26, r22
			ldof_u r27, r26, ScnContext.Step.BgmInfo.OverrideBgmKind
			sppshz r27, Stdlib.FixedString64
			ldsrsr r26, r22
			ldsrc4 r27, 0x0
			stofa4 r26, r27, ScnContext.Step.BgmInfo.IsClearOnDead
			mcopys r23, r22, ScnContext.Step.BgmInfo
			stof_u r25, r23, ScnContext.Step.CreateInfo.BgmInfo
			jmp    loc_000000bd
			
			loc_000000bb:
			ldsr3  r25, r4, r0, r25
			callt4 r26, this.SetupBgmInfo(ref ScnContext.Step.CreateInfo)
			
			loc_000000bd:
			ldof_u r25, r0, this._result
			ldsrc4 r26, 0x0
			stofa4 r25, r26, ScnContext.Step.Result.Kind
			ldof_u r25, r0, this._result
			mcopys r12, r4, ScnContext.Step.CreateInfo
			stof_u r25, r12, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules.__bf_RetryCountManager
			ldsrsr r27, r26
			callt4 r27, Scn.Step.Actor.Basic.RetryCountManager.OnSceneChanged()
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r25, r0, this._result
			ldsr2  r28, r26, r25
			callt4 r27, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._storageManager
			ldofad r25, r26, Scn.Step.StorageManager._volatileData
			ldofad r26, r25, Storage.Volatile.Root.Arena
			ldof_u r25, r0, this._result
			ldsr2  r27, r26, r25
			ldsrc4 r29, 0x0
			callt4 r27, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._storageManager
			ldofad r25, r26, Scn.Step.StorageManager._volatileData
			ldofad r26, r25, Storage.Volatile.Root.SupportSpeak
			ldof_u r25, r0, this._result
			ldofad r27, r0, this._mods
			ldofad r28, r27, Scn.Step.Modules.__bf_TimeManager
			ldofap r24, r28, Scn.Step.TimeManager.__bf_Time
			mcopys r11, r24, Util.TimeSpan
			ldsrsr r28, r11
			calltp r27, Util.TimeSpan.get_Sec()
			cts32f r28, r27
			ldsr3  r29, r26, r25, r28
			callt4 r29, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._pwdeeManager
			ldsrsr r27, r26
			callt4 r27, Scn.Step.PwdeeManager.OnSceneChangedByChangeMap()
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules.__bf_MapAttributeCtrl
			ldofa4 r25, r26, Scn.Step.MapAttributeCtrl.__bf_Mode
			ldsrc4 r26, 0x3
			eqi32  r25, r26, loc_000000f0
			ldofad r25, r0, this._mods
			ldofad r26, r25, Scn.Step.Modules._storageManager
			ldofad r25, r26, Scn.Step.StorageManager._backupFileData
			ldsrsr r27, r25
			callt4 r26, Storage.File.BackupFileDataUtil.UpdateTown(Storage.File.Root)
			
			loc_000000f0:
			ldsrc4 r25, 0x1
			stofa4 r0, r25, this._isSceneEnd
			fleave r0
		}
		
		async void ChangeMapRetryDetail()
		{
			fenter 0
			_void  r0
			sppsh  r1, ScnContext.Step.MapInfo
			sppsh  r3, ScnContext.Step.CreateInfo
			sppsh  r6, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r8, Util.TimeSpan
			sppsh  r9, ScnContext.Step.MapInfo
			sppsh  r10, ScnContext.Step.CreateInfo
			sppsh  r11, ScnContext.Step.CreateInfo
			sppsh  r12, ScnContext.Step.PlayerInfo
			sppsh  r13, ScnContext.Step.MissionInfo
			sppsh  r14, ScnContext.Step.PlayerInfo/Actor
			sppsh  r15, ScnContext.Step.AbilityInfo
			sppsh  r16, ScnContext.Step.AbilityInfo
			sppsh  r17, ScnContext.Step.MapInfo
			sppsh  r18, Util.TimeSpan
			ldofap r9, r0, this._argMapInfo
			mcopys r1, r9, ScnContext.Step.MapInfo
			ldofa4 r19, r0, this._argStepInKind
			ldsrsr r2, r19
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules.__bf_CreateInfoManager
			ldofap r10, r21, Scn.Step.CreateInfoManager._createInfo
			ldsrsr r20, r10
			ldof_u r21, r20, ScnContext.Step.CreateInfo.MapConnectInfo
			sppshz r21, ScnContext.Step.MapConnectInfo
			mcopys r11, r10, ScnContext.Step.CreateInfo
			mcopys r3, r11, ScnContext.Step.CreateInfo
			ldofad r20, r0, this._mods
			ldofad r21, r20, Scn.Step.Modules._playerManager
			ldsrsr r4, r21
			ldsrsr r20, r3
			ldsr2  r22, r12, r21
			callt4 r22, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r20, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldofad r20, r0, this._mods
			ldofad r22, r20, Scn.Step.Modules.__bf_MouthFeedManager
			ldsrsr r23, r22
			callt4 r23, Scn.Step.Player.MouthFeedManager.ClearSendItemAll()
			ldsrsr r20, r3
			ldsr2  r22, r21, r20
			callt4 r22, Scn.Step.Player.Manager.LoadRestartInfoForRetry(ref ScnContext.Step.CreateInfo)
			ldsrsr r20, r3
			stof_u r20, r9, ScnContext.Step.CreateInfo.MapInfo
			ldsrsr r20, r3
			ldofad r21, r0, this._mods
			ldofad r22, r21, Scn.Step.Modules._missionManager
			ldsr2  r23, r13, r22
			callt4 r23, Scn.Step.Mission.Manager.CreateContext()
			stof_u r20, r13, ScnContext.Step.CreateInfo.MissionInfo
			ldsrsr r20, r3
			ldof_u r21, r20, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r20, r21, ScnContext.Step.PlayerInfo.StepInInfo
			stofa4 r20, r19, ScnContext.Step.PlayerInfo/StepInInfoType.StepInKind
			ldsrc4 r5, 0x0
			jmp    loc_0000005f
			
			loc_00000039:
			ldsrsr r19, r3
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r20, r14, r19, r5
			callt4 r20, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r6, r14, ScnContext.Step.PlayerInfo/Actor
			ldofap r7, r14, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r19, r7
			mcopys r15, r19, ScnContext.Step.AbilityInfo
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			ldsrsr r20, r16
			ldofa4 r21, r20, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			mcopys r15, r19, ScnContext.Step.AbilityInfo
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			ldsrsr r19, r16
			ldofa4 r20, r19, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			sppshz r15, ScnContext.Step.AbilityInfo
			ldsrsr r19, r15
			stofa4 r19, r21, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r19, r15
			stofa4 r19, r20, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r19, r15
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r19, r15
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			mcopys r7, r16, ScnContext.Step.AbilityInfo
			ldsrsr r19, r6
			stof_u r19, r16, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r19, r3
			ldof_u r20, r19, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r20, ScnContext.Step.PlayerInfo.Actors
			ldsr4  r20, r6, r19, r5, r20
			callt4 r21, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			ldsrc4 r19, 0x1
			addi32 r5, r5, r19
			
			loc_0000005f:
			ldsrc4 r19, 0x2
			ges32  r5, r19, loc_00000039
			ldsr3  r19, r3, r0, r19
			callt4 r20, this.SetupReturnMapConnectInfo(ref ScnContext.Step.CreateInfo)
			ldsrsr r19, r3
			ldof_u r20, r19, ScnContext.Step.CreateInfo.MapConnectInfo
			ldof_u r21, r19, ScnContext.Step.CreateInfo.MapInfo
			ldofa4 r19, r21, ScnContext.Step.MapInfo._pathPostfixNum
			ldofad r21, r0, this._mods
			ldofad r22, r21, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r21, r22, Scn.Step.CreateInfoManager._createInfo
			ldofap r9, r21, ScnContext.Step.CreateInfo.MapInfo
			mcopys r17, r9, ScnContext.Step.MapInfo
			ldsrsr r21, r17
			ldofa4 r22, r21, ScnContext.Step.MapInfo._pathPostfixNum
			subi32 r21, r19, r22
			negs32 r19, r21
			stofa4 r20, r19, ScnContext.Step.MapConnectInfo.__bf_PreviousMapDiffStepNum
			ldsr3  r19, r3, r0, r19
			callt4 r20, this.SetMovieInfoIfNeed(ref ScnContext.Step.CreateInfo)
			ldsr3  r19, r3, r0, r19
			callt4 r20, this.SetupBgmInfo(ref ScnContext.Step.CreateInfo)
			ldsrsr r19, r3
			ldof_u r20, r19, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r19, 0x0
			stofa4 r20, r19, ScnContext.Step.MovieInfo.MovieKindPrev
			ldof_u r19, r0, this._result
			ldsrc4 r20, 0x0
			stofa4 r19, r20, ScnContext.Step.Result.Kind
			ldof_u r19, r0, this._result
			mcopys r10, r3, ScnContext.Step.CreateInfo
			stof_u r19, r10, ScnContext.Step.Result.NextCreateInfoBase
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules.__bf_AdviceManager
			ldof_u r19, r0, this._result
			ldsr2  r22, r20, r19
			callt4 r21, Scn.Step.Advice.Manager.SendSceneChange(ref ScnContext.Step.Result)
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileData
			ldofad r20, r19, Storage.Volatile.Root.Arena
			ldof_u r19, r0, this._result
			ldsr2  r21, r20, r19
			ldsrc4 r23, 0x0
			callt4 r21, Storage.Volatile.Arena.OnSceneChanged(ref ScnContext.Step.Result,bool)
			ldofad r19, r0, this._mods
			ldofad r20, r19, Scn.Step.Modules._storageManager
			ldofad r19, r20, Scn.Step.StorageManager._volatileData
			ldofad r20, r19, Storage.Volatile.Root.SupportSpeak
			ldof_u r19, r0, this._result
			ldofad r21, r0, this._mods
			ldofad r22, r21, Scn.Step.Modules.__bf_TimeManager
			ldofap r18, r22, Scn.Step.TimeManager.__bf_Time
			mcopys r8, r18, Util.TimeSpan
			ldsrsr r22, r8
			calltp r21, Util.TimeSpan.get_Sec()
			cts32f r22, r21
			ldsr3  r23, r20, r19, r22
			callt4 r23, Storage.Volatile.SupportSpeak.OnSceneChanged(ref ScnContext.Step.Result,int)
			ldsrc4 r19, 0x1
			stofa4 r0, r19, this._isSceneEnd
			fleave r0
		}
		
		void SetupPlayerDataOnDead(ref ScnContext.Step.CreateInfo,bool)
		{
			fenter 0
			_void  r0
			sppsh  r5, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r9, ScnContext.Step.AbilityInfo
			sppsh  r10, ScnContext.Step.AbilityInfo
			sppsh  r11, ScnContext.Step.AbilityInfo
			sppsh  r12, ScnContext.Step.PlayerInfo
			sppsh  r13, ScnContext.Step.PlayerInfo/Actor
			sppsh  r14, ScnContext.Step.ModeInfo
			sppsh  r15, ScnContext.Step.AbilityInfo
			sppsh  r16, ScnContext.Step.AbilityInfo
			sppsh  r17, Util.Decimal
			ldofad r18, r0, this._mods
			ldofad r19, r18, Scn.Step.Modules._playerManager
			ldsrsr r3, r19
			ldofad r18, r19, Scn.Step.Player.Manager.__bf_PowerUpCtrl
			ldofad r20, r18, Scn.Step.Player.PowerUpCtrl._mightyTime
			ldof_u r21, r20, Util.TimeCounter._pod
			calltp r21, Util.TimeCounter/Pod.ToEnd()
			ldsr2  r20, r12, r19
			callt4 r20, Scn.Step.Player.Manager.ToPlayerInfo()
			stof_u r1, r12, ScnContext.Step.CreateInfo.PlayerInfo
			ldsr2  r20, r19, r1
			callt4 r20, Scn.Step.Player.Manager.LoadRestartInfo(ref ScnContext.Step.CreateInfo)
			ldsrc4 r4, 0x0
			jmp    loc_00000074
			
			loc_0000001b:
			ldof_u r18, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r18, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r20, r13, r19, r4
			callt4 r20, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r5, r13, ScnContext.Step.PlayerInfo/Actor
			jmppos r2, loc_00000046
			ldsrc4 r6, 0x1
			ldofap r7, r5, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r18, r7
			ldofa4 r19, r18, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r8, r19
			ldsrc4 r18, 0x2
			nei32  r19, r18, loc_00000029
			jmpneg r8, loc_0000002a
			
			loc_00000029:
			ldsrc4 r6, 0x0
			
			loc_0000002a:
			ldofad r18, r0, this._mods
			ldofad r19, r18, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r18, r19, Scn.Step.CreateInfoManager._createInfo
			ldofap r14, r18, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r18, r14, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r19, 0x2
			eqi32  r18, r19, loc_00000032
			ldsrc4 r6, 0x0
			
			loc_00000032:
			jmppos r6, loc_00000046
			ldsrsr r18, r7
			ldofa4 r19, r18, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r18, r7
			ldofa4 r20, r18, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			sppshz r15, ScnContext.Step.AbilityInfo
			ldsrsr r18, r15
			ldsrc4 r21, 0x1
			stofa4 r18, r21, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r18, r15
			ldsrc4 r21, 0x0
			stofa4 r18, r21, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r18, r15
			stofa4 r18, r19, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r18, r15
			stofa4 r18, r20, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			mcopys r9, r16, ScnContext.Step.AbilityInfo
			ldsrsr r18, r5
			stof_u r18, r16, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			
			loc_00000046:
			ldofap r10, r5, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r18, r10
			ldofa4 r19, r18, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrc4 r18, 0x0
			nei32b r20, r19, r18
			jmppos r20, loc_00000069
			ldsrsr r18, r10
			ldofa4 r19, r18, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r21, r19
			callt4 r20, ScnContext.Step.AbilityUtil.IsLostWhenRestart(ScnContext.Step.DeformAbilityKindType)
			jmppos r20, loc_00000069
			ldsrsr r18, r10
			mcopys r15, r18, ScnContext.Step.AbilityInfo
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			ldsrsr r19, r16
			ldofa4 r20, r19, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			mcopys r15, r18, ScnContext.Step.AbilityInfo
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			ldsrsr r18, r16
			ldofa4 r19, r18, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			sppshz r15, ScnContext.Step.AbilityInfo
			ldsrsr r18, r15
			stofa4 r18, r20, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r18, r15
			stofa4 r18, r19, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r18, r15
			ldsrc4 r19, 0x0
			stofa4 r18, r19, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r18, r15
			ldsrc4 r19, 0x0
			stofa4 r18, r19, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r16, r15, ScnContext.Step.AbilityInfo
			mcopys r11, r16, ScnContext.Step.AbilityInfo
			ldsrsr r18, r5
			stof_u r18, r16, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			
			loc_00000069:
			ldsrsr r18, r5
			mcopys r13, r5, ScnContext.Step.PlayerInfo/Actor
			ldofap r17, r13, ScnContext.Step.PlayerInfo/Actor.MaxHitPoint
			stof_u r18, r17, ScnContext.Step.PlayerInfo/Actor.HitPoint
			ldof_u r18, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r18, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r18, r5
			ldsr3  r20, r19, r4, r18
			callt4 r20, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			ldsrc4 r18, 0x1
			addi32 r4, r4, r18
			
			loc_00000074:
			ldsrc4 r18, 0x2
			ges32  r4, r18, loc_0000001b
			ldof_u r18, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r19, r18, ScnContext.Step.PlayerInfo.RevivalInfo
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeUpMode
			ldsrc4 r18, 0x0
			stofa4 r19, r18, ScnContext.Step.PlayerInfo/RevivalInfoType.GaugeValueCount
			fleave r0
		}
		
		void SetupReturnMapConnectInfo(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r3, ScnContext.Step.MapInfo
			sppsh  r6, ScnContext.Step.MapInfo
			ldof_u r7, r1, ScnContext.Step.CreateInfo.MapConnectInfo
			ldsrc4 r8, 0x0
			stofa4 r7, r8, ScnContext.Step.MapConnectInfo.__bf_ReturnMapMoveStepNum
			ldof_u r7, r1, ScnContext.Step.CreateInfo.MapConnectInfo
			ldsrc4 r8, 0x0
			stofa4 r7, r8, ScnContext.Step.MapConnectInfo.__bf_IsIgnoreWarningAtOneWay
			ldof_u r7, r1, ScnContext.Step.CreateInfo.MapInfo
			ldofa4 r8, r7, ScnContext.Step.MapInfo._pathPostfixNum
			ldofad r7, r0, this._mods
			ldofad r9, r7, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r7, r9, Scn.Step.CreateInfoManager._createInfo
			ldofap r6, r7, ScnContext.Step.CreateInfo.MapInfo
			mcopys r3, r6, ScnContext.Step.MapInfo
			ldsrsr r7, r3
			ldofa4 r9, r7, ScnContext.Step.MapInfo._pathPostfixNum
			subi32 r7, r8, r9
			ldsrsr r2, r7
			jmppos r7, return
			ldofad r7, r0, this._mods
			ldofad r9, r7, Scn.Step.Modules._mapManager
			dcall  r8, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<Scn.Step.Map.Manager>
			_xref  Scn.Step.Map.Manager
			_ret   r0
			ldsrsr r4, r8
			ldsrc4 r5, 0x0
			jmp    loc_00000033
			
			loc_00000020:
			ldsr2  r8, r4, r5
			calltp r7, Scn.Step.Map.Manager.MoveStepValue(int)
			eqi32  r7, r2, loc_00000031
			ldsr2  r8, r4, r5
			calltp r7, Scn.Step.Map.Manager.IsRoundTrip(int)
			jmppos r7, loc_0000002a
			ldof_u r7, r1, ScnContext.Step.CreateInfo.MapConnectInfo
			negs32 r8, r2
			stofa4 r7, r8, ScnContext.Step.MapConnectInfo.__bf_ReturnMapMoveStepNum
			fleave r0
			
			loc_0000002a:
			ldsr2  r8, r4, r5
			calltp r7, Scn.Step.Map.Manager.IsIgnoreWarningAtOneWay(int)
			jmppos r7, loc_00000031
			ldof_u r7, r1, ScnContext.Step.CreateInfo.MapConnectInfo
			ldsrc4 r8, 0x1
			stofa4 r7, r8, ScnContext.Step.MapConnectInfo.__bf_IsIgnoreWarningAtOneWay
			fleave r0
			
			loc_00000031:
			ldsrc4 r7, 0x1
			addi32 r5, r5, r7
			
			loc_00000033:
			ldsrsr r8, r4
			calltp r7, Scn.Step.Map.Manager.StepLinkInfoCount()
			ges32  r5, r7, loc_00000020
			
			return:
			fleave r0
		}
		
		void SetMovieInfoIfNeed(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			ldsr2  r3, r0, r1
			callt4 r2, this.CheckMovieFirstCarDeform(ref ScnContext.Step.CreateInfo)
			jmppos r2, loc_00000006
			fleave r0
			
			loc_00000006:
			ldsr2  r3, r0, r1
			callt4 r2, this.CheckMovieTownAttacked(ref ScnContext.Step.CreateInfo)
			fleave r0
		}
		
		flag100 bool CheckMovieFirstCarDeform(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_ret   r0
			sppsh  r2, Stdlib.FixedString128
			sppsh  r4, Storage.File.StageKey
			sppsh  r5, ScnContext.Step.PlayerInfo/Actor
			sppsh  r6, ScnContext.Step.AbilityInfo
			sppsh  r7, Stdlib.FixedString128
			sppsh  r8, ScnContext.Step.PlayerInfo/Actor
			sppsh  r9, ScnContext.Step.AbilityInfo
			sppsh  r10, ScnContext.Step.AbilityInfo
			ldof_u r11, r1, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r12, r7, r11
			callt4 r12, ScnContext.Step.MapInfo.get_Path()
			mcopys r2, r7, Stdlib.FixedString128
			ldsrsr r11, r2
			ldsrsr r13, r11
			ldsrca r14, "Level0/Stage1/Step02"
			calltp r12, Stdlib.FixedString128.op_Equality(ref Stdlib.FixedString128,string)
			jmppos r12, loc_00000049
			ldsrc4 r3, 0x0
			ldofad r11, r0, this._mods
			ldofad r12, r11, Scn.Step.Modules._storageManager
			ldofad r11, r12, Scn.Step.StorageManager._backupFileData
			ldsr2  r12, r4, r12
			ldsrc4 r14, 0x1
			callt4 r13, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			ldsrsr r12, r4
			ldsr2  r14, r11, r12
			ldsrc4 r16, 0x0
			callt4 r13, Storage.File.BackupFileDataUtil.StageClearState(Storage.File.Root,ref Storage.File.StageKey,bool)
			jmpneg r13, loc_00000020
			ldsrc4 r3, 0x1
			
			loc_00000020:
			jmppos r3, return
			ldof_u r11, r1, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r12, 0x2
			stofa4 r11, r12, ScnContext.Step.MovieInfo.MovieKind
			ldof_u r11, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r12, r11, ScnContext.Step.PlayerInfo.Actors
			ldsr2  r13, r8, r12
			ldsrc4 r15, 0x0
			callt4 r13, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r5, r8, ScnContext.Step.PlayerInfo/Actor
			sppshz r9, ScnContext.Step.AbilityInfo
			ldsrsr r11, r9
			ldsrc4 r12, 0x1
			stofa4 r11, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r11, r9
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r11, r9
			ldsrc4 r12, 0x1
			stofa4 r11, r12, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r11, r9
			ldsrc4 r12, 0x0
			stofa4 r11, r12, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r10, r9, ScnContext.Step.AbilityInfo
			mcopys r6, r10, ScnContext.Step.AbilityInfo
			ldsr3  r11, r5, r6, r5
			ldof_u r14, r13, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsr3  r15, r9, r12, r14
			callt4 r15, ScnContext.Step.AbilityInfo.CreateWithPrevAbility(ref ScnContext.Step.AbilityInfo,ref ScnContext.Step.AbilityInfo)
			stof_u r11, r9, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldof_u r11, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r12, r11, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r11, r5
			ldsrsr r13, r12
			ldsrc4 r14, 0x0
			ldsrsr r15, r11
			callt4 r13, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			ldof_u r11, r1, ScnContext.Step.CreateInfo.MapInfo
			ldsrc4 r12, 0x1
			stofa4 r11, r12, ScnContext.Step.MapInfo._startPortalNo
			
			return:
			fret32 r3
			
			loc_00000049:
			ldsrc4 r11, 0x0
			fret32 r11
		}
		
		flag100 bool CheckMovieTownAttacked(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_ret   r0
			sppsh  r2, Stdlib.FixedString128
			sppsh  r3, Stdlib.FixedString128
			ldof_u r5, r1, ScnContext.Step.CreateInfo.MapInfo
			ldsr2  r6, r3, r5
			callt4 r6, ScnContext.Step.MapInfo.get_Path()
			mcopys r2, r3, Stdlib.FixedString128
			ldsrsr r5, r2
			ldsrsr r7, r5
			ldsrca r8, "Town/Town/Step10"
			calltp r6, Stdlib.FixedString128.op_Equality(ref Stdlib.FixedString128,string)
			jmppos r6, loc_00000019
			ldof_u r5, r1, ScnContext.Step.CreateInfo.MapInfo
			ldofa4 r6, r5, ScnContext.Step.MapInfo._startPortalNo
			ldsrc4 r5, 0x2
			eqi32  r6, r5, loc_00000019
			ldsrc4 r5, 0x1
			ldsrc4 r4, 0x1
			jmppos r5, return
			ldof_u r5, r1, ScnContext.Step.CreateInfo.MovieInfo
			ldsrc4 r6, 0x3
			stofa4 r5, r6, ScnContext.Step.MovieInfo.MovieKind
			ldsrsr r4, r4
			
			return:
			fret32 r4
			
			loc_00000019:
			ldsrc4 r5, 0x0
			fret32 r5
		}
		
		void SetupBgmInfo(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r2, Stdlib.FixedString64
			ldofa4 r3, r0, this._isOverrideBgm
			jmppos r3, return
			ldof_u r3, r1, ScnContext.Step.CreateInfo.BgmInfo
			ldsrc4 r4, 0x1
			stofa4 r3, r4, ScnContext.Step.BgmInfo.IsOverrideBgm
			ldof_u r3, r1, ScnContext.Step.CreateInfo.BgmInfo
			ldofap r2, r0, this._overrideBgmKind
			stof_u r3, r2, ScnContext.Step.BgmInfo.OverrideBgmKind
			ldof_u r3, r1, ScnContext.Step.CreateInfo.BgmInfo
			ldofa4 r4, r0, this._isClearOverrideBgmOnDead
			stofa4 r3, r4, ScnContext.Step.BgmInfo.IsClearOnDead
			
			return:
			fleave r0
		}
		
		void DiscardAbilityIfNeed(ref ScnContext.Step.CreateInfo,bool)
		{
			fenter 0
			_void  r0
			sppsh  r6, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r9, ScnContext.Step.AbilityInfo
			sppsh  r10, ScnContext.Step.PlayerInfo/Actor
			sppsh  r11, ScnContext.Step.ModeInfo
			sppsh  r12, ScnContext.Step.AbilityInfo
			sppsh  r13, ScnContext.Step.AbilityInfo
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules._playerManager
			ldsrsr r3, r16
			ldsrc4 r4, 0x0
			jmp    loc_0000004a
			
			loc_0000000e:
			ldofad r15, r3, Scn.Step.Player.Manager.__bf_ActorDataArray
			ldsr2  r17, r15, r4
			dcall  r16, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Player.ActorData>
			_xref  Scn.Step.Player.ActorData
			_ret   r0
			ldsrsr r5, r16
			ldofa4 r15, r16, Scn.Step.Player.ActorData.__bf_IsNeedAbilityLost
			jmpneg r15, loc_0000001b
			ldofa4 r15, r5, Scn.Step.Player.ActorData.__bf_IsNeedAbilityLostWhenArenaSceneChange
			andi32 r14, r15, r2
			jmp    loc_0000001c
			
			loc_0000001b:
			ldsrc4 r14, 0x1
			
			loc_0000001c:
			jmppos r14, loc_00000048
			ldof_u r15, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r16, r15, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r17, r10, r16, r4
			callt4 r17, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r6, r10, ScnContext.Step.PlayerInfo/Actor
			ldofap r7, r10, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r15, r7
			ldofa4 r16, r15, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r8, r16
			ldsrc4 r15, 0x2
			nei32  r16, r15, loc_00000048
			jmppos r8, loc_00000048
			ldofad r15, r0, this._mods
			ldofad r16, r15, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r15, r16, Scn.Step.CreateInfoManager._createInfo
			ldofap r11, r15, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r15, r11, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r16, 0x2
			nei32  r15, r16, loc_00000048
			ldsrsr r15, r7
			ldofa4 r16, r15, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r15, r7
			ldofa4 r17, r15, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			sppshz r12, ScnContext.Step.AbilityInfo
			ldsrsr r15, r12
			ldsrc4 r18, 0x1
			stofa4 r15, r18, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r15, r12
			ldsrc4 r18, 0x0
			stofa4 r15, r18, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r15, r12
			stofa4 r15, r16, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r15, r12
			stofa4 r15, r17, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r13, r12, ScnContext.Step.AbilityInfo
			mcopys r9, r13, ScnContext.Step.AbilityInfo
			ldsrsr r15, r6
			stof_u r15, r13, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldof_u r15, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r16, r15, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r15, r6
			ldsr3  r17, r16, r4, r15
			callt4 r17, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			
			loc_00000048:
			ldsrc4 r15, 0x1
			addi32 r4, r4, r15
			
			loc_0000004a:
			ldsrc4 r15, 0x2
			ges32  r4, r15, loc_0000000e
			fleave r0
		}
		
		void DiscardAbilityDeform(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r3, ScnContext.Step.PlayerInfo/Actor
			sppsh  r4, ScnContext.Step.AbilityInfo
			sppsh  r5, ScnContext.Step.AbilityInfo
			sppsh  r6, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r8, ScnContext.Step.AbilityInfo
			ldsrc4 r2, 0x0
			jmp    loc_0000002a
			
			loc_0000000a:
			ldof_u r9, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r10, r9, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r11, r6, r10, r2
			callt4 r11, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r3, r6, ScnContext.Step.PlayerInfo/Actor
			ldofap r4, r6, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r9, r4
			ldofa4 r10, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r9, r4
			ldofa4 r11, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			sppshz r7, ScnContext.Step.AbilityInfo
			ldsrsr r9, r7
			stofa4 r9, r10, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r9, r7
			stofa4 r9, r11, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r9, r7
			ldsrc4 r10, 0x0
			stofa4 r9, r10, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r9, r7
			ldsrc4 r10, 0x0
			stofa4 r9, r10, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r8, r7, ScnContext.Step.AbilityInfo
			mcopys r5, r8, ScnContext.Step.AbilityInfo
			ldsrsr r9, r3
			stof_u r9, r8, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldof_u r9, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r10, r9, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r9, r3
			ldsr3  r11, r10, r2, r9
			callt4 r11, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			ldsrc4 r9, 0x1
			addi32 r2, r2, r9
			
			loc_0000002a:
			ldsrc4 r9, 0x2
			ges32  r2, r9, loc_0000000a
			fleave r0
		}
		
		void ReviveSubHero(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r3, ScnContext.Step.PlayerInfo/Actor
			sppsh  r4, ScnContext.Step.PlayerInfo/Actor
			sppsh  r5, ScnContext.Step.PlayerInfo/Actor
			sppsh  r6, Util.Decimal
			ldsrc4 r2, 0x0
			jmp    loc_00000022
			
			loc_00000008:
			jmppos r2, loc_00000020
			ldof_u r7, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r8, r7, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r9, r5, r8, r2
			callt4 r9, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r3, r5, ScnContext.Step.PlayerInfo/Actor
			ldsrsr r7, r3
			ldof_u r9, r7, ScnContext.Step.PlayerInfo/Actor.HitPoint
			calltp r8, Util.Decimal.IsZero()
			jmppos r8, loc_00000020
			ldof_u r7, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r8, r7, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r9, r5, r8, r2
			callt4 r9, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r4, r5, ScnContext.Step.PlayerInfo/Actor
			ldsrsr r7, r4
			mcopys r5, r4, ScnContext.Step.PlayerInfo/Actor
			ldofap r6, r5, ScnContext.Step.PlayerInfo/Actor.MaxHitPoint
			stof_u r7, r6, ScnContext.Step.PlayerInfo/Actor.HitPoint
			ldof_u r7, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r8, r7, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r7, r4
			ldsr3  r9, r8, r2, r7
			callt4 r9, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			
			loc_00000020:
			ldsrc4 r7, 0x1
			addi32 r2, r2, r7
			
			loc_00000022:
			ldsrc4 r7, 0x2
			ges32  r2, r7, loc_00000008
			fleave r0
		}
		
		void FullRecoverHero(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r3, ScnContext.Step.PlayerInfo/Actor
			sppsh  r4, ScnContext.Step.PlayerInfo/Actor
			sppsh  r5, Util.Decimal
			ldsrc4 r2, 0x0
			jmp    loc_00000017
			
			loc_00000007:
			ldof_u r6, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r7, r6, ScnContext.Step.PlayerInfo.Actors
			ldsr3  r8, r4, r7, r2
			callt4 r8, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r3, r4, ScnContext.Step.PlayerInfo/Actor
			ldsrsr r6, r3
			mcopys r4, r3, ScnContext.Step.PlayerInfo/Actor
			ldofap r5, r4, ScnContext.Step.PlayerInfo/Actor.MaxHitPoint
			stof_u r6, r5, ScnContext.Step.PlayerInfo/Actor.HitPoint
			ldof_u r6, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r7, r6, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r6, r3
			ldsr3  r8, r7, r2, r6
			callt4 r8, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			ldsrc4 r6, 0x1
			addi32 r2, r2, r6
			
			loc_00000017:
			ldsrc4 r6, 0x2
			ges32  r2, r6, loc_00000007
			fleave r0
		}
		
		void UpdateBackupFileDataOnStageClear(ref ScnContext.Step.CreateInfo,ref Storage.File.StageKey)
		{
			fenter 0
			_void  r0
			sppsh  r5, Storage.File.StageKey
			sppsh  r8, Util.TimeSpan
			sppsh  r9, MissionData.RescuedWaddleDeeStageDetail
			sppsh  r13, Yaml.Data
			sppsh  r16, ScnContext.Step.MissionInfo/CustomMissionType
			sppsh  r18, MissionData.RescuedWaddleDeeStageDetail
			sppsh  r22, Storage.File.StageKey
			sppsh  r23, Yaml.Data
			sppsh  r24, Storage.File.StageKey
			sppsh  r26, Storage.File.StageKey
			sppsh  r31, Storage.File.StageKey
			sppsh  r41, Yaml.Data
			sppsh  r45, Storage.File.StageKey
			sppsh  r46, Util.TimeSpan
			sppsh  r47, MissionData.RescuedWaddleDeeStageDetail
			sppsh  r48, ScnContext.Step.MissionInfo/CustomMissionType
			sppsh  r49, Yaml.Data
			sppsh  r50, Stdlib.MutableArray16`1<Storage.File.StageKey>
			sppsh  r51, Storage.File.StageKey
			sppsh  r52, ScnContext.Step.ModeInfo
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules._playerManager
			ldsrsr r3, r54
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules._storageManager
			ldofad r53, r54, Scn.Step.StorageManager._backupFileData
			ldsrsr r4, r53
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_CstageStage()
			jmppos r53, loc_00000041
			ldofad r53, r4, Storage.File.Root.CstageStages
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r55, r5
			callt4 r54, Storage.File.StageKey.get_CstageStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.CstageStageKind,Storage.File.CstageStageData>
			_xref  Storage.File.CstageStageData
			_ret   r0
			ldsrsr r6, r55
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules.__bf_TimeManager
			ldofap r46, r54, Scn.Step.TimeManager.__bf_Time
			mcopys r8, r46, Util.TimeSpan
			ldsrsr r57, r8
			calltp r56, Util.TimeSpan.get_Sec()
			ldsrcf r53, 1000f
			mulf32 r54, r56, r53
			cts32f r7, r54
			ldofa4 r53, r55, Storage.File.CstageStageData.IsCleared
			jmpneg r53, loc_0000003b
			stofa4 r6, r7, Storage.File.CstageStageData.BestClearTimeMsec
			jmp    loc_0000003e
			
			loc_0000003b:
			ldofa4 r53, r6, Storage.File.CstageStageData.BestClearTimeMsec
			lts32  r7, r53, loc_0000003e
			stofa4 r6, r7, Storage.File.CstageStageData.BestClearTimeMsec
			
			loc_0000003e:
			ldsrc4 r53, 0x1
			stofa4 r6, r53, Storage.File.CstageStageData.IsCleared
			jmp    loc_00000310
			
			loc_00000041:
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_StoryStage()
			jmppos r53, loc_000001ca
			sppshz r47, MissionData.RescuedWaddleDeeStageDetail
			ldsr3  r53, r47, r2, r4
			callt4 r53, MissionData.RescuedWaddleDeeStageDetail.this(ref Storage.File.StageKey,Storage.File.Root)
			mcopys r9, r47, MissionData.RescuedWaddleDeeStageDetail
			ldofad r53, r4, Storage.File.Root.StoryStages
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r55, r5
			callt4 r54, Storage.File.StageKey.get_StoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrsr r10, r55
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.StoryStageData.IsCleared
			ldofa4 r53, r55, Storage.File.StoryStageData.BestPointStar
			ldofad r54, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofa4 r56, r54, Scn.Step.Player.ShareData.__bf_PointStarCountOnCurrentStage
			ldofad r54, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofa4 r57, r54, Scn.Step.Player.ShareData.__bf_PointStartCountByAmiibo
			subi32 r54, r56, r57
			ldsr2  r57, r53, r54
			callt4 r56, Hel.Math.Max(int,int)
			ldsrsr r11, r56
			stofa4 r55, r56, Storage.File.StoryStageData.BestPointStar
			ldsrc4 r15, 0x0
			jmp    loc_00000079
			
			loc_00000064:
			ldofad r53, r10, Storage.File.StoryStageData.Mission
			ldofad r54, r53, Storage.File.Mission.CustomMissionPhaseArray
			ldof_u r53, r1, ScnContext.Step.CreateInfo.MissionInfo
			ldof_u r55, r53, ScnContext.Step.MissionInfo.CustomMissions
			ldsr3  r56, r48, r55, r15
			dcall  r56, 2
			_xref  Stdlib.MutableArray4`1.get_Item(int)
			_xref  Stdlib.MutableArray4`1<ScnContext.Step.MissionInfo/CustomMissionType>
			_xref  ScnContext.Step.MissionInfo/CustomMissionType
			_rtype ScnContext.Step.MissionInfo/CustomMissionType
			mcopys r16, r48, ScnContext.Step.MissionInfo/CustomMissionType
			ldsrsr r53, r16
			ldofa4 r55, r53, ScnContext.Step.MissionInfo/CustomMissionType.__bf_Phase
			ldsr3  r56, r54, r15, r55
			dcall  r56, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<ScnContext.Step.CustomMissionPhase>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r15, r15, r53
			
			loc_00000079:
			ldof_u r53, r1, ScnContext.Step.CreateInfo.MissionInfo
			ldof_u r55, r53, ScnContext.Step.MissionInfo.CustomMissions
			dcall  r54, 2
			_xref  Stdlib.MutableArray4`1.get_Count()
			_xref  Stdlib.MutableArray4`1<ScnContext.Step.MissionInfo/CustomMissionType>
			_short 9
			_ret   r0
			ges32  r15, r54, loc_00000064
			ldsrc4 r17, 0x0
			jmp    loc_00000095
			
			loc_00000083:
			ldofad r53, r10, Storage.File.StoryStageData.Mission
			ldofad r54, r53, Storage.File.Mission.IsRescuedArray
			ldof_u r53, r1, ScnContext.Step.CreateInfo.MissionInfo
			ldof_u r55, r53, ScnContext.Step.MissionInfo.IsRescuedArray
			ldsr2  r57, r55, r17
			dcall  r56, 2
			_xref  Stdlib.MutableArray8`1.get_Item(int)
			_xref  Stdlib.MutableArray8`1<bool>
			_short 2
			_ret   r0
			ldsr3  r57, r54, r17, r56
			dcall  r57, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<bool>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r17, r17, r53
			
			loc_00000095:
			ldof_u r53, r1, ScnContext.Step.CreateInfo.MissionInfo
			ldof_u r55, r53, ScnContext.Step.MissionInfo.IsRescuedArray
			dcall  r54, 2
			_xref  Stdlib.MutableArray8`1.get_Count()
			_xref  Stdlib.MutableArray8`1<bool>
			_short 9
			_ret   r0
			ges32  r17, r54, loc_00000083
			sppshz r47, MissionData.RescuedWaddleDeeStageDetail
			ldsr3  r53, r47, r2, r4
			callt4 r53, MissionData.RescuedWaddleDeeStageDetail.this(ref Storage.File.StageKey,Storage.File.Root)
			mcopys r18, r47, MissionData.RescuedWaddleDeeStageDetail
			ldsr2  r53, r9, r18
			ldsr3  r56, r53, r54, r2
			callt4 r55, PlayReportSend.EventData.WaddleDeeRescue.Create(ref MissionData.RescuedWaddleDeeStageDetail,ref MissionData.RescuedWaddleDeeStageDetail,ref Storage.File.StageKey)
			ldsrsr r19, r55
			jmppos r55, loc_000000a9
			ldsrsr r53, r19
			ldsrc4 r54, 0x1
			callt4 r53, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			
			loc_000000a9:
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_CapsuleUidList
			ldsrsr r12, r54
			ldofad r53, r10, Storage.File.StoryStageData.CapsuleInfo
			ldsrsr r56, r54
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			stofa4 r53, r55, Storage.File.StageCapsuleInfo.StageUidArrayCount
			ldsrc4 r20, 0x0
			jmp    loc_000000c6
			
			loc_000000b6:
			ldofad r53, r10, Storage.File.StoryStageData.CapsuleInfo
			ldofad r54, r53, Storage.File.StageCapsuleInfo.StageUidArray
			ldsr2  r56, r12, r20
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsr3  r56, r54, r20, r55
			dcall  r56, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<int>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r20, r20, r53
			
			loc_000000c6:
			ldsrsr r54, r12
			dcall  r53, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ges32  r20, r53, loc_000000b6
			ldsr2  r53, r13, r53
			ldsrca r55, "Scn/Step/Map/WmapData"
			calltp r54, Yaml.Data.this(string)
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r53, r5
			ldofa4 r54, r53, Storage.File.StageKey.__bf_StoryLevel
			ldsrsr r14, r54
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_StoryStage()
			ldsrc4 r54, 0x1
			nei32  r53, r54, loc_00000310
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_StoryStage()
			ldsrc4 r54, 0x20
			nei32  r53, r54, loc_00000310
			ldsrsr r54, r2
			callt4 r53, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmppos r53, loc_00000130
			ldsrc4 r53, 0x1
			addi32 r54, r14, r53
			ldsrsr r21, r54
			ldsrsr r56, r54
			callt4 r55, Storage.File.StoryLevelKindUtil.IsValid(Storage.File.StoryLevelKind)
			jmppos r55, loc_00000110
			ldofad r53, r4, Storage.File.Root.StoryStages
			ldsr2  r55, r53, r21
			callt4 r56, Storage.File.StageKey.get_StoryStage()
			ldsrc4 r54, 0x1
			addi32 r56, r56, r54
			dcall  r54, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r53, r54, Storage.File.StoryStageData.IsUnlocked
			jmpneg r53, loc_00000110
			ldsrc4 r53, 0x6
			jmp    loc_0000010c
			ldsr3  r53, r22, r53, r21
			ldsrc4 r56, 0x1
			callt4 r55, Storage.File.StageKey.get_StoryStage()
			addi32 r55, r55, r56
			callt4 r54, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			mcopys r45, r22, Storage.File.StageKey
			stof_u r53, r45, ScnContext.Step.WmapInfo.UnlockStage
			ldofad r53, r4, Storage.File.Root.StoryStages
			ldsrsr r55, r22
			callt4 r54, Storage.File.StageKey.get_StoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.StoryStageData.IsUnlocked
			jmp    loc_00000110
			
			loc_0000010c:
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r54, 0x1
			stofa4 r53, r54, ScnContext.Step.WmapInfo.IsForceBackToTown
			jmp    loc_00000130
			
			loc_00000110:
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_StoryStage()
			ldsrc4 r54, 0x21
			eqi32  r53, r54, loc_00000123
			ldofa4 r53, r10, Storage.File.StoryStageData.IsUnlocked
			jmpneg r53, loc_00000123
			ldofad r53, r4, Storage.File.Root.StoryLevels
			ldsr2  r55, r53, r14
			dcall  r54, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r54, r53, Storage.File.StoryLevelData.IsUnlocked
			ldsrc4 r53, 0x1
			stofa4 r10, r53, Storage.File.StoryStageData.IsUnlocked
			
			loc_00000123:
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrsr r54, r13
			ldsr2  r55, r49, r54
			ldsrca r57, "Cstage"
			calltp r55, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r54, r23
			ldsr4  r55, r50, r4, r14, r54
			ldsrc4 r59, 0x0
			ldsrc4 r60, 0x1
			callt4 r55, Storage.File.BackupFileDataUtil.UpdateCstageUnlock(Storage.File.Root,Storage.File.StoryLevelKind,ref Yaml.Data,bool,bool)
			stof_u r53, r50, ScnContext.Step.WmapInfo.UnlockCstages
			jmp    loc_00000159
			
			loc_00000130:
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r53, r5
			ldsr2  r54, r45, r53
			callt4 r54, Storage.File.StageKey.get_StoryStage()
			ldsrc4 r55, 0x1
			addi32 r55, r54, r55
			ldsrsr r54, r45
			callt4 r54, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			mcopys r24, r45, Storage.File.StageKey
			ldofad r53, r4, Storage.File.Root.StoryStages
			ldsrsr r55, r24
			callt4 r54, Storage.File.StageKey.get_StoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r53, r55, Storage.File.StoryStageData.IsUnlocked
			jmpneg r53, loc_00000159
			ldsrsr r54, r24
			callt4 r53, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmpneg r53, loc_00000159
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			stof_u r53, r24, ScnContext.Step.WmapInfo.UnlockStage
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r54, 0x1
			stofa4 r53, r54, ScnContext.Step.WmapInfo.IsStageUnlock
			ldofad r53, r4, Storage.File.Root.StoryStages
			ldsrsr r55, r24
			callt4 r54, Storage.File.StageKey.get_StoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.StoryStageData.IsUnlocked
			jmp    loc_000001bd
			
			loc_00000159:
			ldsrc4 r53, 0x2
			jmp    loc_0000015b
			
			loc_0000015b:
			ldsrsr r54, r4
			callt4 r53, Storage.File.BackupFileDataUtil.GetClearedStoryStageKind(Storage.File.Root)
			ldsrc4 r54, 0x1
			addi32 r53, r53, r54
			ldsrc4 r54, 0x20
			les32  r53, r54, loc_000001bd
			ldsr2  r54, r45, r53
			callt4 r54, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			ldofad r54, r4, Storage.File.Root.StoryStages
			ldsr2  r56, r54, r53
			ldsrsr r55, r24
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r54, r55, Storage.File.StoryStageData.IsUnlocked
			jmpneg r54, loc_000001bd
			ldsrsr r55, r24
			callt4 r54, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmppos r54, loc_000001bd
			ldsrsr r54, r24
			callt4 r53, Storage.File.StoryLevelKindUtil.StageKeyToStoryLevel(ref Storage.File.StageKey)
			ldsr2  r55, r4, r53
			ldsrc4 r54, 0x0
			ldsrc4 r57, 0x2
			jmp    loc_0000017b
			
			loc_00000176:
			ldsrsr r56, r4
			ldsrc4 r58, 0x1
			callt4 r55, MissionData.ComebackedWaddleDeeCount.ComebackedCount(Storage.File.Root,Storage.File.StoryLevelKind,bool)
			addi32 r54, r54, r55
			addi32 r57, r57, r58
			
			loc_0000017b:
			ldsrc4 r55, 0x8
			ges32  r57, r55, loc_00000176
			ldsrsr r55, r13
			ldsr2  r56, r49, r55
			ldsrca r58, "BossStageUnlockCount"
			calltp r56, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r55, r23
			ldsrsr r57, r53
			dcall  r56, 3
			_xref  Stdlib.Enum.ToString(TEnum)
			_xref  Stdlib.Enum
			_short 16
			_xref  Storage.File.StoryLevelKind
			_ret   r0
			ldsr3  r57, r49, r55, r56
			calltp r57, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r56, r23
			calltp r55, Yaml.Data.ToInt()
			ldsrsr r25, r55
			ges32  r54, r55, loc_000001ae
			ldsr2  r54, r45, r53
			mcopys r26, r45, Storage.File.StageKey
			ldofad r54, r4, Storage.File.Root.StoryLevels
			ldsr2  r56, r54, r53
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r54, 0x1
			stofa4 r55, r54, Storage.File.StoryLevelData.IsBossUnlocked
			ldofad r54, r4, Storage.File.Root.StoryStages
			ldsrsr r56, r26
			callt4 r55, Storage.File.StageKey.get_StoryStage()
			ldsr2  r57, r54, r55
			dcall  r56, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r54, 0x1
			stofa4 r56, r54, Storage.File.StoryStageData.IsUnlocked
			ldof_u r54, r1, ScnContext.Step.CreateInfo.WmapInfo
			mcopys r45, r26, Storage.File.StageKey
			stof_u r54, r45, ScnContext.Step.WmapInfo.UnlockStage
			ldof_u r54, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r55, 0x1
			stofa4 r54, r55, ScnContext.Step.WmapInfo.IsStageUnlockBoss
			jmp    loc_000001bd
			
			loc_000001ae:
			ldsrsr r55, r24
			callt4 r54, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			jmppos r54, loc_000001bd
			ldofad r54, r4, Storage.File.Root.StoryLevels
			ldsr2  r56, r54, r53
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldofa4 r54, r55, Storage.File.StoryLevelData.IsMissedBossUnlock
			jmpneg r54, loc_000001bd
			ldof_u r54, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r55, 0x1
			stofa4 r54, r55, ScnContext.Step.WmapInfo.IsStageUnlockBossFailure
			
			loc_000001bd:
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrsr r54, r13
			ldsr2  r55, r49, r54
			ldsrca r57, "Cstage"
			calltp r55, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r54, r23
			ldsr4  r55, r50, r4, r14, r54
			ldsrc4 r59, 0x0
			ldsrc4 r60, 0x1
			callt4 r55, Storage.File.BackupFileDataUtil.UpdateCstageUnlock(Storage.File.Root,Storage.File.StoryLevelKind,ref Yaml.Data,bool,bool)
			stof_u r53, r50, ScnContext.Step.WmapInfo.UnlockCstages
			jmp    loc_00000310
			
			loc_000001ca:
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r54, r5
			callt4 r53, Storage.File.StageKey.get_EstoryStage()
			jmppos r53, loc_00000310
			ldofad r53, r4, Storage.File.Root.EstoryStages
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r55, r5
			callt4 r54, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldsrsr r27, r55
			ldofa4 r28, r55, Storage.File.EstoryStageData.IsCleared
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.EstoryStageData.IsCleared
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_StepAcquiredRarePieceList
			ldsrsr r29, r54
			ldsrc4 r33, 0x0
			jmp    loc_000001f3
			
			loc_000001e3:
			ldofad r53, r27, Storage.File.EstoryStageData.RarePieceInfo
			ldofad r54, r53, Storage.File.StageRarePieceInfo.AcquiredStepList
			ldsr2  r56, r29, r33
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<bool>
			_short 2
			_ret   r0
			ldsr3  r56, r54, r33, r55
			dcall  r56, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<bool>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r33, r33, r53
			
			loc_000001f3:
			ldsrsr r54, r29
			dcall  r53, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<bool>
			_short 9
			_ret   r0
			ges32  r33, r53, loc_000001e3
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_CapsuleUidList
			ldsrsr r30, r54
			ldofad r53, r27, Storage.File.EstoryStageData.CapsuleInfo
			ldsrsr r56, r54
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			stofa4 r53, r55, Storage.File.StageCapsuleInfo.StageUidArrayCount
			ldsrc4 r34, 0x0
			jmp    loc_00000217
			
			loc_00000207:
			ldofad r53, r27, Storage.File.EstoryStageData.CapsuleInfo
			ldofad r54, r53, Storage.File.StageCapsuleInfo.StageUidArray
			ldsr2  r56, r30, r34
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsr3  r56, r54, r34, r55
			dcall  r56, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<int>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r34, r34, r53
			
			loc_00000217:
			ldsrsr r54, r30
			dcall  r53, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ges32  r34, r53, loc_00000207
			ldofad r53, r27, Storage.File.EstoryStageData.SoulSingleInfo
			ldofa4 r35, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r53, r27, Storage.File.EstoryStageData.SoulSingleInfo
			ldofa4 r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulSingleUidList
			ldsrsr r58, r56
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			addi32 r55, r54, r57
			stofa4 r53, r55, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldsrc4 r36, 0x0
			jmp    loc_00000241
			
			loc_0000022e:
			ldofad r53, r27, Storage.File.EstoryStageData.SoulSingleInfo
			ldofad r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArray
			addi32 r53, r35, r36
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulSingleUidList
			ldsr2  r58, r56, r36
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsr3  r58, r54, r53, r57
			dcall  r58, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<int>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r36, r36, r53
			
			loc_00000241:
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_SoulSingleUidList
			ldsrsr r56, r54
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ges32  r36, r55, loc_0000022e
			ldofad r53, r27, Storage.File.EstoryStageData.SoulTripleInfo
			ldofa4 r37, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r53, r27, Storage.File.EstoryStageData.SoulTripleInfo
			ldofa4 r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulTripleUidList
			ldsrsr r58, r56
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			addi32 r55, r54, r57
			stofa4 r53, r55, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldsrc4 r38, 0x0
			jmp    loc_0000026d
			
			loc_0000025a:
			ldofad r53, r27, Storage.File.EstoryStageData.SoulTripleInfo
			ldofad r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArray
			addi32 r53, r37, r38
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulTripleUidList
			ldsr2  r58, r56, r38
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsr3  r58, r54, r53, r57
			dcall  r58, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<int>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r38, r38, r53
			
			loc_0000026d:
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_SoulTripleUidList
			ldsrsr r56, r54
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ges32  r38, r55, loc_0000025a
			ldofad r53, r27, Storage.File.EstoryStageData.SoulEnemyInfo
			ldofa4 r39, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r53, r27, Storage.File.EstoryStageData.SoulEnemyInfo
			ldofa4 r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulEnemyUidList
			ldsrsr r58, r56
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			addi32 r55, r54, r57
			stofa4 r53, r55, Storage.File.EstoryStageSoulInfo.StageUidArrayCount
			ldsrc4 r40, 0x0
			jmp    loc_00000299
			
			loc_00000286:
			ldofad r53, r27, Storage.File.EstoryStageData.SoulEnemyInfo
			ldofad r54, r53, Storage.File.EstoryStageSoulInfo.StageUidArray
			addi32 r53, r39, r40
			ldofad r55, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r56, r55, Scn.Step.Player.ShareData.__bf_SoulEnemyUidList
			ldsr2  r58, r56, r40
			dcall  r57, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsr3  r58, r54, r53, r57
			dcall  r58, 2
			_xref  Stdlib.Array`1.set_Item(int,TElement)
			_xref  Stdlib.Array`1<int>
			_short 1
			_void  r0
			ldsrc4 r53, 0x1
			addi32 r40, r40, r53
			
			loc_00000299:
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r54, r53, Scn.Step.Player.ShareData.__bf_SoulEnemyUidList
			ldsrsr r56, r54
			dcall  r55, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ges32  r40, r55, loc_00000286
			mcopys r45, r2, Storage.File.StageKey
			mcopys r5, r45, Storage.File.StageKey
			ldsrsr r53, r5
			ldsr2  r54, r45, r53
			callt4 r54, Storage.File.StageKey.get_NextStage()
			mcopys r31, r45, Storage.File.StageKey
			ldofad r53, r4, Storage.File.Root.EstoryStages
			ldsrsr r55, r31
			callt4 r54, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldofa4 r53, r55, Storage.File.EstoryStageData.IsUnlocked
			ldsrsr r55, r31
			callt4 r54, Storage.File.StageKeyUtil.IsBossStage(ref Storage.File.StageKey)
			ldsrsr r32, r54
			jmpneg r53, loc_000002c8
			jmpneg r32, loc_000002c8
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			stof_u r53, r31, ScnContext.Step.WmapInfo.UnlockStage
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r54, 0x1
			stofa4 r53, r54, ScnContext.Step.WmapInfo.IsStageUnlock
			ldofad r53, r4, Storage.File.Root.EstoryStages
			ldsrsr r55, r31
			callt4 r54, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r56, r53, r54
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.EstoryStageData.IsUnlocked
			jmp    loc_00000310
			
			loc_000002c8:
			ldofad r53, r4, Storage.File.Root.EstoryStages
			ldsrsr r55, r53
			ldsrc4 r56, 0x7
			dcall  r54, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldofa4 r53, r54, Storage.File.EstoryStageData.IsUnlocked
			jmpneg r53, loc_00000310
			ldsrsr r54, r4
			callt4 r53, Storage.File.BackupFileDataUtil.IsAllEstoryStageClearExpectBoss(Storage.File.Root)
			jmppos r53, loc_00000310
			ldsr2  r53, r41, r53
			ldsrca r55, "Scn/Step/Map/WmapData"
			calltp r54, Yaml.Data.this(string)
			ldsrsr r54, r4
			callt4 r53, Storage.File.BackupFileDataUtil.GetCollectedSoulNumTotal(Storage.File.Root)
			ldsrsr r54, r41
			ldsr2  r55, r49, r54
			ldsrca r57, "BossStageUnlockCount"
			calltp r55, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r54, r23
			ldsr2  r55, r49, r54
			ldsrca r57, "Estory"
			calltp r55, Yaml.Data.get_Item(string)
			mcopys r23, r49, Yaml.Data
			ldsrsr r55, r23
			calltp r54, Yaml.Data.ToInt()
			ldsrsr r42, r54
			ges32  r53, r54, loc_0000030b
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r45, Storage.File.StageKey
			sppshz r45, Storage.File.StageKey
			ldsrc4 r55, 0x7
			dcall  r54, 3
			_xref  Stdlib.Enum.ToString(TEnum)
			_xref  Stdlib.Enum
			_short 16
			_xref  Storage.File.EstoryStageKind
			_ret   r0
			ldsrsr r56, r54
			calltp r55, ScnContext.StepUtil.PathPostfixNum(string)
			ldsrc4 r54, 0x1
			subi32 r56, r55, r54
			sppshz r51, Storage.File.StageKey
			ldsrsr r57, r51
			ldsrc4 r58, 0x3
			ldsrsr r59, r56
			callt4 r57, Storage.File.StageKey.this(Storage.File.StageCategory,int)
			mcopys r45, r51, Storage.File.StageKey
			stof_u r53, r45, ScnContext.Step.WmapInfo.UnlockStage
			ldofad r53, r4, Storage.File.Root.EstoryStages
			ldsrsr r55, r53
			ldsrc4 r56, 0x7
			dcall  r54, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r54, r53, Storage.File.EstoryStageData.IsUnlocked
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r54, 0x1
			stofa4 r53, r54, ScnContext.Step.WmapInfo.IsStageUnlockBoss
			jmp    loc_00000310
			
			loc_0000030b:
			jmppos r32, loc_00000310
			jmpneg r28, loc_00000310
			ldof_u r53, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r54, 0x1
			stofa4 r53, r54, ScnContext.Step.WmapInfo.IsStageUnlockBossFailure
			
			loc_00000310:
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r53, r54, Scn.Step.CreateInfoManager._createInfo
			ldofap r52, r53, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r53, r52, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r54, 0x1
			nei32  r53, r54, loc_0000031e
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r53, r54, Scn.Step.CreateInfoManager._createInfo
			ldofap r52, r53, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r53, r52, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r54, 0x6
			eqi32  r53, r54, loc_00000331
			
			loc_0000031e:
			ldofad r53, r3, Scn.Step.Player.Manager.__bf_ShareData
			ldofa4 r54, r53, Scn.Step.Player.ShareData.__bf_BlueprintGottenOnStage
			ldsrsr r43, r54
			jmppos r54, loc_0000032e
			ldsrsr r54, r43
			callt4 r53, Storage.File.CopyAbilitySubKindSerialIdUtil.ToCopyAbilitySubKindSerialId(ScnContext.Step.BlueprintKind)
			ldsrsr r44, r53
			ldofad r54, r4, Storage.File.Root.CopyAbilitySubKindDatas
			ldsr2  r56, r54, r53
			dcall  r55, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.CopyAbilitySubKindSerialId,Storage.File.CopyAbilitySubKindData>
			_xref  Storage.File.CopyAbilitySubKindData
			_ret   r0
			ldsrc4 r53, 0x1
			stofa4 r55, r53, Storage.File.CopyAbilitySubKindData.IsGotBlueprint
			
			loc_0000032e:
			ldofad r53, r4, Storage.File.Root.Player
			ldsrc4 r54, 0x0
			stofa4 r53, r54, Storage.File.Player.DeadCountInNewStage
			
			loc_00000331:
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r53, r54, Scn.Step.CreateInfoManager._createInfo
			ldofap r52, r53, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r53, r52, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r54, 0x1
			nei32  r53, r54, loc_0000033f
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r53, r54, Scn.Step.CreateInfoManager._createInfo
			ldofap r52, r53, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r53, r52, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r54, 0x2
			eqi32  r53, r54, loc_00000342
			
			loc_0000033f:
			ldofad r53, r4, Storage.File.Root.Player
			mcopys r45, r2, Storage.File.StageKey
			stof_u r53, r45, Storage.File.Player.LastStageInStoryWmap
			
			loc_00000342:
			ldsrsr r54, r4
			callt4 r53, Storage.File.BackupFileDataUtil.UpdateTown(Storage.File.Root)
			ldofad r53, r0, this._mods
			ldofad r54, r53, Scn.Step.Modules._storageManager
			ldofad r53, r54, Scn.Step.StorageManager._volatileData
			ldsrc4 r54, 0x1
			stofa4 r53, r54, Storage.Volatile.Root.IsNeedToSaveRequest
			fleave r0
		}
		
		void CheckStageClearDemoOnEnterWmap(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r3, Yaml.Data
			sppsh  r4, Storage.File.StageKey
			sppsh  r6, Yaml.Data
			sppsh  r7, Storage.File.StageKey
			sppsh  r8, Yaml.Data
			sppsh  r9, Stdlib.MutableArray16`1<Storage.File.StageKey>
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._backupFileData
			ldsrsr r2, r10
			ldofad r12, r10, Storage.File.Root.Wmap
			callt4 r11, Storage.File.Wmap.get_IsNeedToShowAnyDemo()
			jmpneg r11, loc_00000010
			fleave r0
			
			loc_00000010:
			ldofad r10, r2, Storage.File.Root.Wmap
			ldofa4 r11, r10, Storage.File.Wmap.IsNeedToShowClearDemo
			jmppos r11, loc_00000070
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldofad r11, r2, Storage.File.Root.Wmap
			ldofa4 r12, r11, Storage.File.Wmap.PreComebackedCount
			stofa4 r10, r12, ScnContext.Step.WmapInfo.PreComebackedCount
			ldofad r10, r2, Storage.File.Root.Wmap
			ldsrc4 r11, 0x0
			stofa4 r10, r11, Storage.File.Wmap.IsNeedToShowClearDemo
			ldsr2  r10, r4, r10
			ldsrc4 r12, 0x20
			callt4 r11, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._playerManager
			ldofad r10, r11, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r11, r10, Scn.Step.Player.ShareData.__bf_ComebackedWaddleDeeCount
			ldsrsr r10, r4
			ldsr3  r12, r11, r2, r10
			callt4 r12, MissionData.ComebackedWaddleDeeCount.ReloadComebackableCount(Storage.File.Root,ref Storage.File.StageKey)
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._playerManager
			ldofad r10, r11, Scn.Step.Player.Manager.__bf_ShareData
			ldofad r11, r10, Scn.Step.Player.ShareData.__bf_ComebackedWaddleDeeCount
			ldsrsr r10, r4
			ldsr2  r13, r11, r10
			callt4 r12, MissionData.ComebackedWaddleDeeCount.ComebackedCount(ref Storage.File.StageKey)
			ldsrsr r5, r12
			ldofad r10, r2, Storage.File.Root.Wmap
			ldofa4 r11, r10, Storage.File.Wmap.PreComebackedCount
			lts32  r11, r12, loc_00000032
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r11, 0x1
			stofa4 r10, r11, ScnContext.Step.WmapInfo.IsStageCleared
			
			loc_00000032:
			ldofad r10, r2, Storage.File.Root.StoryStages
			ldsrsr r12, r10
			ldsrc4 r13, 0x20
			dcall  r11, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r10, r11, Storage.File.StoryStageData.IsCleared
			jmppos r10, loc_00000070
			ldofad r10, r2, Storage.File.Root.StoryStages
			ldsrsr r12, r10
			ldsrc4 r13, 0x21
			dcall  r11, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r10, r11, Storage.File.StoryStageData.IsUnlocked
			jmpneg r10, loc_00000070
			ldofad r10, r2, Storage.File.Root.StoryStages
			ldsrsr r12, r10
			ldsrc4 r13, 0x21
			dcall  r11, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldsrc4 r10, 0x1
			stofa4 r11, r10, Storage.File.StoryStageData.IsUnlocked
			ldofad r10, r2, Storage.File.Root.StoryLevels
			ldsrsr r12, r10
			ldsrc4 r13, 0x8
			dcall  r11, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryLevelKind,Storage.File.StoryLevelData>
			_xref  Storage.File.StoryLevelData
			_ret   r0
			ldsrc4 r10, 0x1
			stofa4 r11, r10, Storage.File.StoryLevelData.IsUnlocked
			ldofad r10, r2, Storage.File.Root.StoryStages
			ldsrsr r12, r10
			ldsrc4 r13, 0x21
			dcall  r11, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r10, r11, Storage.File.StoryStageData.IsCleared
			jmpneg r10, loc_00000070
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r11, 0x1
			stofa4 r10, r11, ScnContext.Step.WmapInfo.IsStageUnlock
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			sppshz r7, Storage.File.StageKey
			ldsrsr r11, r7
			ldsrc4 r12, 0x21
			callt4 r11, Storage.File.StageKey.this(Storage.File.StoryStageKind)
			stof_u r10, r7, ScnContext.Step.WmapInfo.UnlockStage
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrc4 r11, 0x1
			stofa4 r10, r11, ScnContext.Step.WmapInfo.IsStageCleared
			
			loc_00000070:
			ldsr2  r10, r3, r10
			ldsrca r12, "Scn/Step/Map/WmapData"
			calltp r11, Yaml.Data.this(string)
			ldof_u r10, r1, ScnContext.Step.CreateInfo.WmapInfo
			ldsrsr r11, r3
			ldsr2  r12, r8, r11
			ldsrca r14, "Cstage"
			calltp r12, Yaml.Data.get_Item(string)
			mcopys r6, r8, Yaml.Data
			ldsrsr r11, r6
			ldsr2  r12, r9, r2
			ldsrc4 r14, 0x7
			ldsrsr r15, r11
			ldsrc4 r16, 0x0
			ldsrc4 r17, 0x1
			callt4 r12, Storage.File.BackupFileDataUtil.UpdateCstageUnlock(Storage.File.Root,Storage.File.StoryLevelKind,ref Yaml.Data,bool,bool)
			stof_u r10, r9, ScnContext.Step.WmapInfo.UnlockCstages
			ldofad r10, r0, this._mods
			ldofad r11, r10, Scn.Step.Modules._storageManager
			ldofad r10, r11, Scn.Step.StorageManager._volatileData
			ldsrc4 r11, 0x1
			stofa4 r10, r11, Storage.Volatile.Root.IsNeedToSaveRequest
			ldofad r10, r2, Storage.File.Root.Wmap
			ldsrc4 r11, 0x0
			stofa4 r10, r11, Storage.File.Wmap.IsNeedToShowClearDemo
			ldsrc4 r11, 0x0
			stofa4 r10, r11, Storage.File.Wmap.IsNeedToShowCstageUnlockDemo
			ldsrc4 r11, 0x0
			stofa4 r10, r11, Storage.File.Wmap.PreComebackedCount
			fleave r0
		}
		
		void PickUpAbilityItem(ref ScnContext.Step.CreateInfo)
		{
			fenter 0
			_void  r0
			sppsh  r2, ScnContext.Step.PlayerInfo/Actor
			sppsh  r3, ScnContext.Step.AbilityInfo
			sppsh  r4, ScnContext.Step.AbilityInfo
			sppsh  r5, ScnContext.Step.AbilityInfo
			sppsh  r6, ScnContext.Step.PlayerInfo/Actor
			sppsh  r7, ScnContext.Step.AbilityInfo
			sppsh  r8, ScnContext.Step.AbilityInfo
			ldof_u r9, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r10, r9, ScnContext.Step.PlayerInfo.Actors
			ldsr2  r11, r6, r10
			ldsrc4 r13, 0x0
			callt4 r11, ScnContext.Step.PlayerInfo/ActorsType.get_Item(int)
			mcopys r2, r6, ScnContext.Step.PlayerInfo/Actor
			ldofap r3, r6, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldsrsr r9, r3
			ldofa4 r10, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrc4 r9, 0x1
			eqi32  r10, r9, return
			ldsr2  r9, r7, r0
			callt4 r9, this.FindPickUpAbilityInfo()
			mcopys r4, r7, ScnContext.Step.AbilityInfo
			ldsrsr r9, r4
			ldofa4 r10, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			jmppos r10, return
			ldsrsr r9, r4
			ldofa4 r10, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrc4 r9, 0x1
			nei32  r10, r9, return
			ldsrsr r9, r4
			ldofa4 r10, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r9, r4
			ldofa4 r11, r9, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r9, r3
			ldofa4 r12, r9, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r9, r3
			ldofa4 r13, r9, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			sppshz r7, ScnContext.Step.AbilityInfo
			ldsrsr r9, r7
			stofa4 r9, r10, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r9, r7
			stofa4 r9, r11, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r9, r7
			stofa4 r9, r12, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r9, r7
			stofa4 r9, r13, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r8, r7, ScnContext.Step.AbilityInfo
			mcopys r5, r8, ScnContext.Step.AbilityInfo
			ldsrsr r9, r2
			stof_u r9, r8, ScnContext.Step.PlayerInfo/Actor.AbilityKind
			ldof_u r9, r1, ScnContext.Step.CreateInfo.PlayerInfo
			ldof_u r10, r9, ScnContext.Step.PlayerInfo.Actors
			ldsrsr r9, r2
			ldsrsr r11, r10
			ldsrc4 r12, 0x0
			ldsrsr r13, r9
			callt4 r11, ScnContext.Step.PlayerInfo/ActorsType.Set(int,ref ScnContext.Step.PlayerInfo/Actor)
			
			return:
			fleave r0
		}
		
		flag100 ScnContext.Step.AbilityInfo FindPickUpAbilityInfo()
		{
			fenter 0
			_rtype ScnContext.Step.AbilityInfo
			sppsh  r3, ScnContext.Step.AbilityInfo
			sppsh  r4, ScnContext.Step.AbilityInfo
			sppsh  r5, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			sppsh  r8, ScnContext.Step.AbilityInfo
			sppsh  r9, ScnContext.Step.AbilityInfo
			sppsh  r10, ScnContext.Step.AbilityInfo
			sppsh  r11, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._playerManager
			ldofad r12, r13, Scn.Step.Player.Manager.__bf_ObjArray
			ldsrsr r15, r12
			ldsrc4 r16, 0x0
			dcall  r14, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<ActSys.Obj>
			_xref  ActSys.Obj
			_ret   r0
			ldsrsr r1, r14
			ldofad r12, r13, Scn.Step.Player.Manager.__bf_ActorDataArray
			ldsrsr r16, r12
			ldsrc4 r17, 0x0
			dcall  r15, 2
			_xref  Stdlib.Array`1.get_Item(int)
			_xref  Stdlib.Array`1<Scn.Step.Player.ActorData>
			_xref  Scn.Step.Player.ActorData
			_ret   r0
			ldsrsr r2, r15
			jmppos r14, loc_00000031
			ldsrsr r13, r1
			dcall  r12, 3
			_xref  ActSys.Obj.Component()
			_xref  ActSys.Obj
			_xref  Scn.Step.Actor.Basic.Inhaler
			_xref  Scn.Step.Actor.Basic.Inhaler
			_ret   r0
			ldofad r13, r12, Scn.Step.Actor.Basic.Inhaler.__bf_InhaleInfo
			ldsr2  r14, r9, r13
			callt4 r14, Scn.Step.Actor.Basic.InhaleInfo.get_AbilityInfo()
			mcopys r4, r9, ScnContext.Step.AbilityInfo
			ldsrsr r12, r4
			ldofa4 r13, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			jmppos r13, loc_00000031
			ldsrsr r12, r4
			ldofa4 r13, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrc4 r12, 0x1
			nei32  r13, r12, loc_00000031
			fret64 r1
			
			loc_00000031:
			ldofad r12, r0, this._mods
			ldofad r14, r12, Scn.Step.Modules._actManager
			dcall  r13, 2
			_xref  Stdlib.ManagedRawptr`1.get_Ref()
			_xref  Stdlib.ManagedRawptr`1<ActSys.Manager>
			_xref  ActSys.Manager
			_ret   r0
			ldsrsr r15, r13
			dcall  r14, 3
			_xref  ActSys.Manager.Components()
			_xref  ActSys.Manager
			_xref  Stdlib.Array`1<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			_xref  Scn.Step.Actor.Item.AbilityItem.MainComponent
			_ret   r0
			sppshz r9, ScnContext.Step.AbilityInfo
			ldsrsr r12, r9
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldsrsr r12, r9
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldsrsr r12, r9
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.AbilityInfo.__bf_DeformAbilityKind
			ldsrsr r12, r9
			ldsrc4 r13, 0x0
			stofa4 r12, r13, ScnContext.Step.AbilityInfo.__bf_DeformAbilitySubKind
			mcopys r10, r9, ScnContext.Step.AbilityInfo
			mcopys r3, r10, ScnContext.Step.AbilityInfo
			ldsr2  r15, r11, r14
			dcall  r15, 2
			_xref  Stdlib.Array`1.GetEnumerator()
			_xref  Stdlib.Array`1<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			_rtype Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			mcopys r5, r11, Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			jmp    loc_0000008b
			
			loc_00000056:
			ldsrsr r13, r5
			dcall  r12, 2
			_xref  Stdlib.Array`1/Enumerator.get_Current()
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			_xref  Scn.Step.Actor.Item.AbilityItem.MainComponent
			_ret   r0
			ldsrsr r6, r12
			ldofa4 r13, r12, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_Variation
			ldsrc4 r12, 0x1
			eqi32  r13, r12, loc_0000008b
			ldofa4 r12, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_ByDamage
			jmppos r12, loc_0000008b
			ldofad r12, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent._obj
			ldsrsr r14, r12
			dcall  r13, 3
			_xref  ActSys.Obj.FindComponent()
			_xref  ActSys.Obj
			_xref  Scn.Step.Actor.Basic.Inhalable
			_xref  Scn.Step.Actor.Basic.Inhalable
			_ret   r0
			ldsrsr r7, r13
			jmppos r13, loc_00000070
			ldofa4 r12, r7, Scn.Step.Actor.Basic.Inhalable.__bf_IsRequestedSpit
			jmpneg r12, loc_0000008b
			ldofa4 r12, r7, Scn.Step.Actor.Basic.Inhalable.__bf_IsRequestedSpitForce
			jmpneg r12, loc_0000008b
			
			loc_00000070:
			ldsrsr r12, r3
			ldofa4 r13, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			jmpneg r13, loc_00000076
			ldofap r9, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_AbilityInfo
			mcopys r3, r9, ScnContext.Step.AbilityInfo
			jmp    loc_0000008b
			
			loc_00000076:
			ldofap r9, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_AbilityInfo
			mcopys r8, r9, ScnContext.Step.AbilityInfo
			ldsrsr r12, r8
			ldofa4 r13, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			ldofap r10, r2, Scn.Step.Player.ActorData.__bf_PrevAbilityInfo
			mcopys r8, r10, ScnContext.Step.AbilityInfo
			ldsrsr r12, r8
			ldofa4 r14, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilityKind
			eqi32  r13, r14, loc_0000008b
			ldofap r9, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_AbilityInfo
			mcopys r8, r9, ScnContext.Step.AbilityInfo
			ldsrsr r12, r8
			ldofa4 r13, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			ldofap r10, r2, Scn.Step.Player.ActorData.__bf_PrevAbilityInfo
			mcopys r8, r10, ScnContext.Step.AbilityInfo
			ldsrsr r12, r8
			ldofa4 r14, r12, ScnContext.Step.AbilityInfo.__bf_CopyAbilitySubKind
			eqi32  r13, r14, loc_0000008b
			ldofap r9, r6, Scn.Step.Actor.Item.AbilityItem.MainComponent.__bf_AbilityInfo
			mcopys r3, r9, ScnContext.Step.AbilityInfo
			jmp    return
			
			loc_0000008b:
			ldsrsr r13, r5
			dcall  r12, 2
			_xref  Stdlib.Array`1/Enumerator.MoveNext()
			_xref  Stdlib.Array`1/Enumerator<Scn.Step.Actor.Item.AbilityItem.MainComponent>
			_short 2
			_ret   r0
			jmpneg r12, loc_00000056
			
			return:
			fret64 r1
		}
		
		void SendPlayReportOnStageClear(ref Storage.File.StageKey)
		{
			fenter 0
			_void  r0
			sppsh  r6, Storage.File.StageKey
			sppsh  r10, ScnContext.Step.ModeInfo
			sppsh  r11, Storage.File.StageKey
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._playerManager
			ldofad r12, r13, Scn.Step.Player.Manager.__bf_ShareData
			ldsrsr r2, r12
			ldofa4 r13, r12, Scn.Step.Player.ShareData.__bf_PointStarCountOnCurrentStage
			ldofa4 r14, r12, Scn.Step.Player.ShareData.__bf_PointStartCountByAmiibo
			obnew  r12, PlayReportSend.EventData.CoinStarGet
			stofa4 r12, r13, PlayReportSend.EventData.CoinStarGet._getCount
			stofa4 r12, r14, PlayReportSend.EventData.CoinStarGet._getCountFromAmiibo
			ldsrsr r13, r12
			ldsrc4 r14, 0x1
			callt4 r13, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_CreateInfoManager
			ldof_u r12, r13, Scn.Step.CreateInfoManager._createInfo
			ldofap r10, r12, ScnContext.Step.CreateInfo.ModeInfo
			ldofa4 r12, r10, ScnContext.Step.ModeInfo.Kind
			ldsrc4 r13, 0x6
			eqi32  r12, r13, loc_00000060
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._playerManager
			ldofad r12, r13, Scn.Step.Player.Manager.__bf_ShareData
			ldsrsr r3, r12
			ldsrsr r14, r12
			callt4 r13, Scn.Step.Player.ShareData.GetRarePieceCountOnCurrentStage()
			ldsrsr r4, r13
			ldsrc4 r12, 0x0
			gts32  r13, r12, loc_00000026
			obnew  r12, PlayReportSend.EventData.RarePieceGet
			stofa4 r12, r4, PlayReportSend.EventData.RarePieceGet._getCount
			ldsrsr r13, r12
			ldsrc4 r14, 0x1
			callt4 r13, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			
			loc_00000026:
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._backupFileData
			ldofad r13, r12, Storage.File.Root.EstoryStages
			mcopys r11, r1, Storage.File.StageKey
			mcopys r6, r11, Storage.File.StageKey
			ldsrsr r15, r6
			callt4 r14, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r16, r13, r14
			dcall  r15, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldofa4 r12, r15, Storage.File.EstoryStageData.IsCleared
			ldsrc4 r13, 0x0
			eqi32b r14, r12, r13
			ldsrsr r5, r14
			ldsrc4 r12, 0x0
			ldofad r13, r3, Scn.Step.Player.ShareData.__bf_SoulSingleUidList
			ldsrsr r16, r13
			dcall  r15, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			addi32 r13, r12, r15
			ldofad r12, r3, Scn.Step.Player.ShareData.__bf_SoulTripleUidList
			ldsrsr r16, r12
			dcall  r15, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			ldsrc4 r12, 0x3
			muls32 r16, r15, r12
			addi32 r12, r13, r16
			ldofad r13, r3, Scn.Step.Player.ShareData.__bf_SoulEnemyUidList
			ldsrsr r16, r13
			dcall  r15, 2
			_xref  Stdlib.Array`1.get_Count()
			_xref  Stdlib.Array`1<int>
			_short 9
			_ret   r0
			addi32 r13, r12, r15
			ldsrc4 r12, 0x0
			nes32b r15, r13, r12
			ori32  r12, r15, r14
			jmppos r12, loc_00000060
			ldofad r12, r3, Scn.Step.Player.ShareData.__bf_SoulSingleUidList
			ldofad r13, r3, Scn.Step.Player.ShareData.__bf_SoulTripleUidList
			ldofad r14, r3, Scn.Step.Player.ShareData.__bf_SoulEnemyUidList
			obnew  r15, PlayReportSend.EventData.SoulRescue
			ldsr5  r16, r1, r5, r12, r13, r14
			callt4 r15, PlayReportSend.EventData.SoulRescue.this(ref Storage.File.StageKey,bool,Stdlib.Array`1<int>,Stdlib.Array`1<int>,Stdlib.Array`1<int>)
			ldsrsr r16, r15
			ldsrc4 r17, 0x1
			callt4 r16, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			
			loc_00000060:
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules._storageManager
			ldofad r12, r13, Scn.Step.StorageManager._backupFileData
			ldsrsr r7, r12
			ldsrc4 r8, 0x0
			mcopys r11, r1, Storage.File.StageKey
			mcopys r6, r11, Storage.File.StageKey
			ldsrsr r12, r6
			ldofa4 r13, r12, Storage.File.StageKey.__bf_Category
			ldsrsr r9, r13
			ldsrc4 r12, 0x1
			subi32 r14, r13, r12
			switch r14, 3
			jmp    loc_00000071
			jmp    loc_0000007e
			jmp    loc_0000008b
			jmp    loc_00000097
			
			loc_00000071:
			ldofad r12, r7, Storage.File.Root.StoryStages
			mcopys r11, r1, Storage.File.StageKey
			mcopys r6, r11, Storage.File.StageKey
			ldsrsr r14, r6
			callt4 r13, Storage.File.StageKey.get_StoryStage()
			ldsr2  r15, r12, r13
			dcall  r14, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.StoryStageKind,Storage.File.StoryStageData>
			_xref  Storage.File.StoryStageData
			_ret   r0
			ldofa4 r8, r14, Storage.File.StoryStageData.IsCleared
			jmp    loc_00000097
			
			loc_0000007e:
			ldofad r12, r7, Storage.File.Root.CstageStages
			mcopys r11, r1, Storage.File.StageKey
			mcopys r6, r11, Storage.File.StageKey
			ldsrsr r14, r6
			callt4 r13, Storage.File.StageKey.get_CstageStage()
			ldsr2  r15, r12, r13
			dcall  r14, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.CstageStageKind,Storage.File.CstageStageData>
			_xref  Storage.File.CstageStageData
			_ret   r0
			ldofa4 r8, r14, Storage.File.CstageStageData.IsCleared
			jmp    loc_00000097
			
			loc_0000008b:
			ldofad r12, r7, Storage.File.Root.EstoryStages
			mcopys r11, r1, Storage.File.StageKey
			mcopys r6, r11, Storage.File.StageKey
			ldsrsr r14, r6
			callt4 r13, Storage.File.StageKey.get_EstoryStage()
			ldsr2  r15, r12, r13
			dcall  r14, 2
			_xref  Stdlib.EnumKeyArray`2.get_Item(TKey)
			_xref  Stdlib.EnumKeyArray`2<Storage.File.EstoryStageKind,Storage.File.EstoryStageData>
			_xref  Storage.File.EstoryStageData
			_ret   r0
			ldofa4 r8, r14, Storage.File.EstoryStageData.IsCleared
			
			loc_00000097:
			ldofad r12, r0, this._mods
			ldofad r13, r12, Scn.Step.Modules.__bf_DifficultyManager
			ldofa4 r12, r13, Scn.Step.DifficultyManager.__bf_Level
			ldsrc4 r13, 0x0
			eqi32b r14, r8, r13
			obnew  r13, PlayReportSend.EventData.StepStageClear
			mcopys r11, r1, Storage.File.StageKey
			stof_u r13, r11, PlayReportSend.EventData.StepStageClear._stageKey
			stofa4 r13, r12, PlayReportSend.EventData.StepStageClear._difficulty
			stofa4 r13, r14, PlayReportSend.EventData.StepStageClear._isFirstClear
			ldsrsr r14, r13
			ldsrc4 r15, 0x1
			callt4 r14, PlayReportSend.EventSend.SendPlayReport(PlayReportSend.IEventData,bool)
			fleave r0
		}
	}
}
